
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>RGW Dynamic Bucket Index Resharding &#8212; Ceph Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="RGW Support for Multifactor Authentication" href="../mfa/" />
    <link rel="prev" title="Bucket Policies" href="../bucketpolicy/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../mfa/" title="RGW Support for Multifactor Authentication"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../bucketpolicy/" title="Bucket Policies"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" accesskey="U">Ceph Object Gateway</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">RGW Dynamic Bucket Index Resharding</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div id="docubetter" align="right" style="padding: 15px; font-weight: bold;">
    <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <section id="rgw-dynamic-bucket-index-resharding">
<span id="id1"></span><h1>RGW Dynamic Bucket Index Resharding<a class="headerlink" href="#rgw-dynamic-bucket-index-resharding" title="Permalink to this heading">¶</a></h1>
<div class="versionadded">
<p><span class="versionmodified added">New in version Luminous.</span></p>
</div>
<p>A large bucket index can lead to performance problems. In order
to address this problem we introduced bucket index sharding.
Until Luminous, changing the number of bucket shards (resharding)
needed to be done offline. Starting with Luminous we support
online bucket resharding.</p>
<p>Each bucket index shard can handle its entries efficiently up until
reaching a certain threshold number of entries. If this threshold is
exceeded the system can suffer from performance issues. The dynamic
resharding feature detects this situation and automatically increases
the number of shards used by the bucket index, resulting in a
reduction of the number of entries in each bucket index shard. This
process is transparent to the user.</p>
<p>By default dynamic bucket index resharding can only increase the
number of bucket index shards to 1999, although this upper-bound is a
configuration parameter (see Configuration below). When
possible, the process chooses a prime number of bucket index shards to
spread the number of bucket index entries across the bucket index
shards more evenly.</p>
<p>The detection process runs in a background process that periodically
scans all the buckets. A bucket that requires resharding is added to
the resharding queue and will be scheduled to be resharded later. The
reshard thread runs in the background and execute the scheduled
resharding tasks, one at a time.</p>
<section id="multisite">
<h2>Multisite<a class="headerlink" href="#multisite" title="Permalink to this heading">¶</a></h2>
<p>Prior to the Reef release, RGW does not support dynamic resharding in a
multisite environment. For information on dynamic resharding, see
<a class="reference internal" href="../multisite/#feature-resharding"><span class="std std-ref">Resharding</span></a> in the RGW multisite documentation.</p>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">¶</a></h2>
<p>Enable/Disable dynamic bucket index resharding:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rgw_dynamic_resharding</span></code>:  true/false, default: true</p></li>
</ul>
<p>Configuration options that control the resharding process:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">rgw_max_objs_per_shard</span></code>: maximum number of objects per bucket index shard before resharding is triggered, default: 100000 objects</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rgw_max_dynamic_shards</span></code>: maximum number of shards that dynamic bucket index resharding can increase to, default: 1999</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rgw_reshard_bucket_lock_duration</span></code>: duration, in seconds, of lock on bucket obj during resharding, default: 360 seconds (i.e., 6 minutes)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rgw_reshard_thread_interval</span></code>: maximum time, in seconds, between rounds of resharding queue processing, default: 600 seconds (i.e., 10 minutes)</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rgw_reshard_num_logs</span></code>: number of shards for the resharding queue, default: 16</p></li>
</ul>
</section>
<section id="admin-commands">
<h2>Admin commands<a class="headerlink" href="#admin-commands" title="Permalink to this heading">¶</a></h2>
<section id="add-a-bucket-to-the-resharding-queue">
<h3>Add a bucket to the resharding queue<a class="headerlink" href="#add-a-bucket-to-the-resharding-queue" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># radosgw-admin reshard add --bucket &lt;bucket_name&gt; --num-shards &lt;new number of shards&gt;</span>
</pre></div>
</div>
</section>
<section id="list-resharding-queue">
<h3>List resharding queue<a class="headerlink" href="#list-resharding-queue" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># radosgw-admin reshard list</span>
</pre></div>
</div>
</section>
<section id="process-tasks-on-the-resharding-queue">
<h3>Process tasks on the resharding queue<a class="headerlink" href="#process-tasks-on-the-resharding-queue" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># radosgw-admin reshard process</span>
</pre></div>
</div>
</section>
<section id="bucket-resharding-status">
<h3>Bucket resharding status<a class="headerlink" href="#bucket-resharding-status" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># radosgw-admin reshard status --bucket &lt;bucket_name&gt;</span>
</pre></div>
</div>
<p>The output is a json array of 3 objects (reshard_status, new_bucket_instance_id, num_shards) per shard.</p>
<p>For example, the output at different Dynamic Resharding stages is shown below:</p>
<p><code class="docutils literal notranslate"><span class="pre">1.</span> <span class="pre">Before</span> <span class="pre">resharding</span> <span class="pre">occurred:</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
      <span class="s2">&quot;reshard_status&quot;</span><span class="p">:</span> <span class="s2">&quot;not-resharding&quot;</span><span class="p">,</span>
      <span class="s2">&quot;new_bucket_instance_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;num_shards&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">2.</span> <span class="pre">During</span> <span class="pre">resharding:</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
      <span class="s2">&quot;reshard_status&quot;</span><span class="p">:</span> <span class="s2">&quot;in-progress&quot;</span><span class="p">,</span>
      <span class="s2">&quot;new_bucket_instance_id&quot;</span><span class="p">:</span> <span class="s2">&quot;1179f470-2ebf-4630-8ec3-c9922da887fd.8652.1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;num_shards&quot;</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">},</span>
  <span class="p">{</span>
      <span class="s2">&quot;reshard_status&quot;</span><span class="p">:</span> <span class="s2">&quot;in-progress&quot;</span><span class="p">,</span>
      <span class="s2">&quot;new_bucket_instance_id&quot;</span><span class="p">:</span> <span class="s2">&quot;1179f470-2ebf-4630-8ec3-c9922da887fd.8652.1&quot;</span><span class="p">,</span>
      <span class="s2">&quot;num_shards&quot;</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">3,</span> <span class="pre">After</span> <span class="pre">resharding</span> <span class="pre">completed:</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span>
  <span class="p">{</span>
      <span class="s2">&quot;reshard_status&quot;</span><span class="p">:</span> <span class="s2">&quot;not-resharding&quot;</span><span class="p">,</span>
      <span class="s2">&quot;new_bucket_instance_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;num_shards&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">},</span>
  <span class="p">{</span>
      <span class="s2">&quot;reshard_status&quot;</span><span class="p">:</span> <span class="s2">&quot;not-resharding&quot;</span><span class="p">,</span>
      <span class="s2">&quot;new_bucket_instance_id&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
      <span class="s2">&quot;num_shards&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span>
  <span class="p">}</span>
<span class="p">]</span>
</pre></div>
</div>
</section>
<section id="cancel-pending-bucket-resharding">
<h3>Cancel pending bucket resharding<a class="headerlink" href="#cancel-pending-bucket-resharding" title="Permalink to this heading">¶</a></h3>
<p>Note: Ongoing bucket resharding operations cannot be cancelled.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># radosgw-admin reshard cancel --bucket &lt;bucket_name&gt;</span>
</pre></div>
</div>
</section>
<section id="manual-immediate-bucket-resharding">
<h3>Manual immediate bucket resharding<a class="headerlink" href="#manual-immediate-bucket-resharding" title="Permalink to this heading">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># radosgw-admin bucket reshard --bucket &lt;bucket_name&gt; --num-shards &lt;new number of shards&gt;</span>
</pre></div>
</div>
<p>When choosing a number of shards, the administrator should keep a
number of items in mind. Ideally the administrator is aiming for no
more than 100000 entries per shard, now and through some future point
in time.</p>
<p>Additionally, bucket index shards that are prime numbers tend to work
better in evenly distributing bucket index entries across the
shards. For example, 7001 bucket index shards is better than 7000
since the former is prime. A variety of web sites have lists of prime
numbers; search for “list of prime numbers” withy your favorite web
search engine to locate some web sites.</p>
</section>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this heading">¶</a></h2>
<p>Clusters prior to Luminous 12.2.11 and Mimic 13.2.5 left behind stale bucket
instance entries, which were not automatically cleaned up. The issue also affected
LifeCycle policies, which were not applied to resharded buckets anymore. Both of
these issues can be worked around using a couple of radosgw-admin commands.</p>
<section id="stale-instance-management">
<h3>Stale instance management<a class="headerlink" href="#stale-instance-management" title="Permalink to this heading">¶</a></h3>
<p>List the stale instances in a cluster that are ready to be cleaned up.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># radosgw-admin reshard stale-instances list</span>
</pre></div>
</div>
<p>Clean up the stale instances in a cluster. Note: cleanup of these
instances should only be done on a single site cluster.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># radosgw-admin reshard stale-instances rm</span>
</pre></div>
</div>
</section>
<section id="lifecycle-fixes">
<h3>Lifecycle fixes<a class="headerlink" href="#lifecycle-fixes" title="Permalink to this heading">¶</a></h3>
<p>For clusters that had resharded instances, it is highly likely that the old
lifecycle processes would have flagged and deleted lifecycle processing as the
bucket instance changed during a reshard. While this is fixed for newer clusters
(from Mimic 13.2.6 and Luminous 12.2.12), older buckets that had lifecycle policies and
that have undergone resharding will have to be manually fixed.</p>
<p>The command to do so is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># radosgw-admin lc reshard fix --bucket {bucketname}</span>
</pre></div>
</div>
<p>As a convenience wrapper, if the <code class="docutils literal notranslate"><span class="pre">--bucket</span></code> argument is dropped then this
command will try and fix lifecycle policies for all the buckets in the cluster.</p>
</section>
<section id="object-expirer-fixes">
<h3>Object Expirer fixes<a class="headerlink" href="#object-expirer-fixes" title="Permalink to this heading">¶</a></h3>
<p>Objects subject to Swift object expiration on older clusters may have
been dropped from the log pool and never deleted after the bucket was
resharded. This would happen if their expiration time was before the
cluster was upgraded, but if their expiration was after the upgrade
the objects would be correctly handled. To manage these expire-stale
objects, radosgw-admin provides two subcommands.</p>
<p>Listing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># radosgw-admin objects expire-stale list --bucket {bucketname}</span>
</pre></div>
</div>
<p>Displays a list of object names and expiration times in JSON format.</p>
<p>Deleting:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># radosgw-admin objects expire-stale rm --bucket {bucketname}</span>
</pre></div>
</div>
<p>Initiates deletion of such objects, displaying a list of object names, expiration times, and deletion status in JSON format.</p>
</section>
</section>
</section>



            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/intro/">Intro to Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/">Installing Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephadm/">Cephadm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rados/">Ceph Storage Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephfs/">Ceph File System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rbd/">Ceph Block Device</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Ceph Object Gateway</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../frontends/">HTTP Frontends</a></li>
<li class="toctree-l2"><a class="reference internal" href="../placement/">Pool Placement and Storage Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multisite/">Multisite Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multisite-sync-policy/">Multisite Sync Policy Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pools/">Configuring Pools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../config-ref/">Config Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../admin/">Admin Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../s3/">S3 API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rgw-cache/">Data caching and CDN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../swift/">Swift API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../adminops/">Admin Ops API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../api/">Python binding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../nfs/">Export over NFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../keystone/">OpenStack Keystone Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../barbican/">OpenStack Barbican Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../vault/">HashiCorp Vault Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kmip/">KMIP Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../opa/">Open Policy Agent Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../multitenancy/">Multi-tenancy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../compression/">Compression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ldap-auth/">LDAP Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../encryption/">Server-Side Encryption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bucketpolicy/">Bucket Policy</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Dynamic bucket index resharding</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#multisite">Multisite</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#admin-commands">Admin commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#add-a-bucket-to-the-resharding-queue">Add a bucket to the resharding queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="#list-resharding-queue">List resharding queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="#process-tasks-on-the-resharding-queue">Process tasks on the resharding queue</a></li>
<li class="toctree-l4"><a class="reference internal" href="#bucket-resharding-status">Bucket resharding status</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cancel-pending-bucket-resharding">Cancel pending bucket resharding</a></li>
<li class="toctree-l4"><a class="reference internal" href="#manual-immediate-bucket-resharding">Manual immediate bucket resharding</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#stale-instance-management">Stale instance management</a></li>
<li class="toctree-l4"><a class="reference internal" href="#lifecycle-fixes">Lifecycle fixes</a></li>
<li class="toctree-l4"><a class="reference internal" href="#object-expirer-fixes">Object Expirer fixes</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../mfa/">Multi factor authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sync-modules/">Sync Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notifications/">Bucket Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../layout/">Data Layout in RADOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../STS/">STS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../STSLite/">STS Lite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../keycloak/">Keycloak</a></li>
<li class="toctree-l2"><a class="reference internal" href="../session-tags/">Session Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="../role/">Role</a></li>
<li class="toctree-l2"><a class="reference internal" href="../orphans/">Orphan List and Associated Tooling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../oidc/">OpenID Connect Provider</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/8/radosgw/">Manpage radosgw</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/8/radosgw-admin/">Manpage radosgw-admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../qat-accel/">QAT Acceleration for Encryption and Compression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../s3select/">S3-select</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lua-scripting/">Lua Scripting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/">Ceph Manager Daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/dashboard/">Ceph Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/developer_guide/">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/internals/">Ceph Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../governance/">Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundation/">Ceph Foundation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/general/">Ceph Releases (general)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/">Ceph Releases (index)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/">Glossary</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../mfa/" title="RGW Support for Multifactor Authentication"
             >next</a> |</li>
        <li class="right" >
          <a href="../bucketpolicy/" title="Bucket Policies"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" >Ceph Object Gateway</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">RGW Dynamic Bucket Index Resharding</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>