
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Authentication and ACLs &#8212; Ceph Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex/" />
    <link rel="search" title="Search" href="../../../search/" />
    <link rel="next" title="Service Operations" href="../serviceops/" />
    <link rel="prev" title="Common Entities" href="../commons/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../serviceops/" title="Service Operations"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../commons/" title="Common Entities"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../" >Ceph Object Gateway</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../" accesskey="U">Ceph Object Gateway S3 API</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Authentication and ACLs</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div id="docubetter" align="right" style="padding: 15px; font-weight: bold;">
    <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <section id="authentication-and-acls">
<h1>Authentication and ACLs<a class="headerlink" href="#authentication-and-acls" title="Permalink to this heading">¶</a></h1>
<p>Requests to the RADOS Gateway (RGW) can be either authenticated or
unauthenticated. RGW assumes unauthenticated requests are sent by an anonymous
user. RGW supports canned ACLs.</p>
<section id="authentication">
<h2>Authentication<a class="headerlink" href="#authentication" title="Permalink to this heading">¶</a></h2>
<p>Authenticating a request requires including an access key and a Hash-based
Message Authentication Code (HMAC) in the request before it is sent to the
RGW server. RGW uses an S3-compatible authentication approach.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">HTTP</span><span class="o">/</span><span class="mf">1.1</span>
<span class="n">PUT</span> <span class="o">/</span><span class="n">buckets</span><span class="o">/</span><span class="n">bucket</span><span class="o">/</span><span class="nb">object</span><span class="o">.</span><span class="n">mpeg</span>
<span class="n">Host</span><span class="p">:</span> <span class="n">cname</span><span class="o">.</span><span class="n">domain</span><span class="o">.</span><span class="n">com</span>
<span class="n">Date</span><span class="p">:</span> <span class="n">Mon</span><span class="p">,</span> <span class="mi">2</span> <span class="n">Jan</span> <span class="mi">2012</span> <span class="mi">00</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mi">01</span> <span class="o">+</span><span class="mi">0000</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Encoding</span><span class="p">:</span> <span class="n">mpeg</span>
<span class="n">Content</span><span class="o">-</span><span class="n">Length</span><span class="p">:</span> <span class="mi">9999999</span>

<span class="n">Authorization</span><span class="p">:</span> <span class="n">AWS</span> <span class="p">{</span><span class="n">access</span><span class="o">-</span><span class="n">key</span><span class="p">}:{</span><span class="nb">hash</span><span class="o">-</span><span class="n">of</span><span class="o">-</span><span class="n">header</span><span class="o">-</span><span class="ow">and</span><span class="o">-</span><span class="n">secret</span><span class="p">}</span>
</pre></div>
</div>
<p>In the foregoing example, replace <code class="docutils literal notranslate"><span class="pre">{access-key}</span></code> with the value for your access
key ID followed by a colon (<code class="docutils literal notranslate"><span class="pre">:</span></code>). Replace <code class="docutils literal notranslate"><span class="pre">{hash-of-header-and-secret}</span></code> with
a hash of the header string and the secret corresponding to the access key ID.</p>
<p>To generate the hash of the header string and secret, you must:</p>
<ol class="arabic simple">
<li><p>Get the value of the header string.</p></li>
<li><p>Normalize the request header string into canonical form.</p></li>
<li><p>Generate an HMAC using a SHA-1 hashing algorithm.
See <a class="reference external" href="http://www.ietf.org/rfc/rfc2104.txt">RFC 2104</a> and <a class="reference external" href="https://en.wikipedia.org/wiki/HMAC">HMAC</a> for details.</p></li>
<li><p>Encode the <code class="docutils literal notranslate"><span class="pre">hmac</span></code> result as base-64.</p></li>
</ol>
<p>To normalize the header into canonical form:</p>
<ol class="arabic simple">
<li><p>Get all fields beginning with <code class="docutils literal notranslate"><span class="pre">x-amz-</span></code>.</p></li>
<li><p>Ensure that the fields are all lowercase.</p></li>
<li><p>Sort the fields lexicographically.</p></li>
<li><p>Combine multiple instances of the same field name into a
single field and separate the field values with a comma.</p></li>
<li><p>Replace white space and line breaks in field values with a single space.</p></li>
<li><p>Remove white space before and after colons.</p></li>
<li><p>Append a new line after each field.</p></li>
<li><p>Merge the fields back into the header.</p></li>
</ol>
<p>Replace the <code class="docutils literal notranslate"><span class="pre">{hash-of-header-and-secret}</span></code> with the base-64 encoded HMAC string.</p>
</section>
<section id="authentication-against-openstack-keystone">
<h2>Authentication against OpenStack Keystone<a class="headerlink" href="#authentication-against-openstack-keystone" title="Permalink to this heading">¶</a></h2>
<p>In a radosgw instance that is configured with authentication against
OpenStack Keystone, it is possible to use Keystone as an authoritative
source for S3 API authentication. To do so, you must set:</p>
<ul class="simple">
<li><p>the <code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">keystone</span></code> configuration options explained in <a class="reference internal" href="../../keystone/"><span class="doc">Integrating with OpenStack Keystone</span></a>,</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">rgw</span> <span class="pre">s3</span> <span class="pre">auth</span> <span class="pre">use</span> <span class="pre">keystone</span> <span class="pre">=</span> <span class="pre">true</span></code>.</p></li>
</ul>
<p>In addition, a user wishing to use the S3 API must obtain an AWS-style
access key and secret key. They can do so with the <code class="docutils literal notranslate"><span class="pre">openstack</span> <span class="pre">ec2</span>
<span class="pre">credentials</span> <span class="pre">create</span></code> command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ openstack --os-interface public ec2 credentials create
+------------+---------------------------------------------------------------------------------------------------------------------------------------------+
| Field      | Value                                                                                                                                       |
+------------+---------------------------------------------------------------------------------------------------------------------------------------------+
| access     | c921676aaabbccdeadbeef7e8b0eeb2c                                                                                                            |
| links      | {u&#39;self&#39;: u&#39;https://auth.example.com:5000/v3/users/7ecbebaffeabbddeadbeefa23267ccbb24/credentials/OS-EC2/c921676aaabbccdeadbeef7e8b0eeb2c&#39;} |
| project_id | 5ed51981aab4679851adeadbeef6ebf7                                                                                                            |
| secret     | ********************************                                                                                                            |
| trust_id   | None                                                                                                                                        |
| user_id    | 7ecbebaffeabbddeadbeefa23267cc24                                                                                                            |
+------------+---------------------------------------------------------------------------------------------------------------------------------------------+
</pre></div>
</div>
<p>The thus-generated access and secret key can then be used for S3 API
access to radosgw.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Consider that most production radosgw deployments
authenticating against OpenStack Keystone are also set up
for <a class="reference internal" href="../../multitenancy/"><span class="doc">RGW Multi-tenancy</span></a>, for which special
considerations apply with respect to S3 signed URLs and
public read ACLs.</p>
</div>
</section>
<section id="access-control-lists-acls">
<h2>Access Control Lists (ACLs)<a class="headerlink" href="#access-control-lists-acls" title="Permalink to this heading">¶</a></h2>
<p>RGW supports S3-compatible ACL functionality. An ACL is a list of access grants
that specify which operations a user can perform on a bucket or on an object.
Each grant has a different meaning when applied to a bucket versus applied to
an object:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 15%" />
<col style="width: 47%" />
<col style="width: 38%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Permission</p></th>
<th class="head"><p>Bucket</p></th>
<th class="head"><p>Object</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">READ</span></code></p></td>
<td><p>Grantee can list the objects in the bucket.</p></td>
<td><p>Grantee can read the object.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WRITE</span></code></p></td>
<td><p>Grantee can write or delete objects in the bucket.</p></td>
<td><p>N/A</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
<td><p>Grantee can read bucket ACL.</p></td>
<td><p>Grantee can read the object ACL.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
<td><p>Grantee can write bucket ACL.</p></td>
<td><p>Grantee can write to the object ACL.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">FULL_CONTROL</span></code></p></td>
<td><p>Grantee has full permissions for object in the bucket.</p></td>
<td><p>Grantee can read or write to the object ACL.</p></td>
</tr>
</tbody>
</table>
<p>Internally, S3 operations are mapped to ACL permissions thus:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 72%" />
<col style="width: 28%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Operation</p></th>
<th class="head"><p>Permission</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetObject</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetObjectTorrent</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetObjectVersion</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetObjectVersionTorrent</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetObjectTagging</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetObjectVersionTagging</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:ListAllMyBuckets</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:ListBucket</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:ListBucketMultipartUploads</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:ListBucketVersions</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:ListMultipartUploadParts</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:AbortMultipartUpload</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:CreateBucket</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:DeleteBucket</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:DeleteObject</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:s3DeleteObjectVersion</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutObject</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutObjectTagging</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutObjectVersionTagging</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:DeleteObjectTagging</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:DeleteObjectVersionTagging</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:RestoreObject</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetAccelerateConfiguration</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetBucketAcl</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetBucketCORS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetBucketLocation</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetBucketLogging</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetBucketNotification</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetBucketPolicy</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetBucketRequestPayment</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetBucketTagging</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetBucketVersioning</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetBucketWebsite</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetLifecycleConfiguration</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetObjectAcl</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetObjectVersionAcl</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:GetReplicationConfiguration</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">READ_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:DeleteBucketPolicy</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:DeleteBucketWebsite</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:DeleteReplicationConfiguration</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutAccelerateConfiguration</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutBucketAcl</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutBucketCORS</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutBucketLogging</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutBucketNotification</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutBucketPolicy</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutBucketRequestPayment</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutBucketTagging</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutPutBucketVersioning</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutBucketWebsite</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutLifecycleConfiguration</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutObjectAcl</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutObjectVersionAcl</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">s3:PutReplicationConfiguration</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">WRITE_ACP</span></code></p></td>
</tr>
</tbody>
</table>
<p>Some mappings, (e.g. <code class="docutils literal notranslate"><span class="pre">s3:CreateBucket</span></code> to <code class="docutils literal notranslate"><span class="pre">WRITE</span></code>) are not
applicable to S3 operation, but are required to allow Swift and S3 to
access the same resources when things like Swift user ACLs are in
play. This is one of the many reasons that you should use S3 bucket
policies rather than S3 ACLs when possible.</p>
</section>
</section>



            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Intro to Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">Installing Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephadm/">Cephadm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rados/">Ceph Storage Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph File System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/">Ceph Block Device</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../">Ceph Object Gateway</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../frontends/">HTTP Frontends</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../placement/">Pool Placement and Storage Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multisite/">Multisite Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multisite-sync-policy/">Multisite Sync Policy Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pools/">Configuring Pools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../config-ref/">Config Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../admin/">Admin Guide</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../">S3 API</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../#api">API</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../commons/">Common</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Authentication</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#authentication">Authentication</a></li>
<li class="toctree-l5"><a class="reference internal" href="#authentication-against-openstack-keystone">Authentication against OpenStack Keystone</a></li>
<li class="toctree-l5"><a class="reference internal" href="#access-control-lists-acls">Access Control Lists (ACLs)</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../serviceops/">Service Ops</a></li>
<li class="toctree-l4"><a class="reference internal" href="../bucketops/">Bucket Ops</a></li>
<li class="toctree-l4"><a class="reference internal" href="../objectops/">Object Ops</a></li>
<li class="toctree-l4"><a class="reference internal" href="../cpp/">C++</a></li>
<li class="toctree-l4"><a class="reference internal" href="../csharp/">C#</a></li>
<li class="toctree-l4"><a class="reference internal" href="../java/">Java</a></li>
<li class="toctree-l4"><a class="reference internal" href="../perl/">Perl</a></li>
<li class="toctree-l4"><a class="reference internal" href="../php/">PHP</a></li>
<li class="toctree-l4"><a class="reference internal" href="../python/">Python</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ruby/">Ruby AWS::SDK Examples (aws-sdk gem ~&gt;2)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ruby/#ruby-aws-s3-examples-aws-s3-gem">Ruby AWS::S3 Examples (aws-s3 gem)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../#features-support">Features Support</a></li>
<li class="toctree-l3"><a class="reference internal" href="../#unsupported-header-fields">Unsupported Header Fields</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../rgw-cache/">Data caching and CDN</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../swift/">Swift API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../adminops/">Admin Ops API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/">Python binding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../nfs/">Export over NFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../keystone/">OpenStack Keystone Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../barbican/">OpenStack Barbican Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../vault/">HashiCorp Vault Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../kmip/">KMIP Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../opa/">Open Policy Agent Integration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../multitenancy/">Multi-tenancy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../compression/">Compression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../ldap-auth/">LDAP Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../encryption/">Server-Side Encryption</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../bucketpolicy/">Bucket Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../dynamicresharding/">Dynamic bucket index resharding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../mfa/">Multi factor authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../sync-modules/">Sync Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../notifications/">Bucket Notifications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../layout/">Data Layout in RADOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../STS/">STS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../STSLite/">STS Lite</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../keycloak/">Keycloak</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../session-tags/">Session Tags</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../role/">Role</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../orphans/">Orphan List and Associated Tooling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../oidc/">OpenID Connect Provider</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../man/8/radosgw/">Manpage radosgw</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../man/8/radosgw-admin/">Manpage radosgw-admin</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../qat-accel/">QAT Acceleration for Encryption and Compression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../s3select/">S3-select</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../lua-scripting/">Lua Scripting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/">Ceph Manager Daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/dashboard/">Ceph Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/developer_guide/">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/internals/">Ceph Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../governance/">Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../foundation/">Ceph Foundation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/general/">Ceph Releases (general)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/">Ceph Releases (index)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Glossary</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../serviceops/" title="Service Operations"
             >next</a> |</li>
        <li class="right" >
          <a href="../commons/" title="Common Entities"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../" >Ceph Object Gateway</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../" >Ceph Object Gateway S3 API</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Authentication and ACLs</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>