
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Cephadm &#8212; Ceph Documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex/" />
    <link rel="search" title="Search" href="../search/" />
    <link rel="next" title="Compatibility and Stability" href="compatibility/" />
    <link rel="prev" title="Manual Deployment on FreeBSD" href="../install/manual-freebsd-deployment/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="compatibility/" title="Compatibility and Stability"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../install/manual-freebsd-deployment/" title="Manual Deployment on FreeBSD"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../">Ceph Documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Cephadm</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div id="docubetter" align="right" style="padding: 15px; font-weight: bold;">
    <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <section id="cephadm">
<span id="id1"></span><h1>Cephadm<a class="headerlink" href="#cephadm" title="Permalink to this heading">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">cephadm</span></code> is a utility that is used to manage a Ceph cluster.</p>
<p>Here is a list of some of the things that <code class="docutils literal notranslate"><span class="pre">cephadm</span></code> can do:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">cephadm</span></code> can add a Ceph container to the cluster.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cephadm</span></code> can remove a Ceph container from the cluster.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cephadm</span></code> can update Ceph containers.</p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">cephadm</span></code> does not rely on external configuration tools like Ansible, Rook,
or Salt. However, those external configuration tools can be used to automate
operations not performed by cephadm itself. To learn more about these external
configuration tools, visit their pages:</p>
<blockquote>
<div><ul class="simple">
<li><p><a class="reference external" href="https://github.com/ceph/cephadm-ansible">https://github.com/ceph/cephadm-ansible</a></p></li>
<li><p><a class="reference external" href="https://rook.io/docs/rook/v1.10/Getting-Started/intro/">https://rook.io/docs/rook/v1.10/Getting-Started/intro/</a></p></li>
<li><p><a class="reference external" href="https://github.com/ceph/ceph-salt">https://github.com/ceph/ceph-salt</a></p></li>
</ul>
</div></blockquote>
<p><code class="docutils literal notranslate"><span class="pre">cephadm</span></code> manages the full lifecycle of a Ceph cluster. This lifecycle starts
with the bootstrapping process, when <code class="docutils literal notranslate"><span class="pre">cephadm</span></code> creates a tiny Ceph cluster on
a single node. This cluster consists of one monitor and one manager.
<code class="docutils literal notranslate"><span class="pre">cephadm</span></code> then uses the orchestration interface to expand the cluster, adding
hosts and provisioning Ceph daemons and services. Management of this lifecycle
can be performed either via the Ceph command-line interface (CLI) or via the
dashboard (GUI).</p>
<p>To use <code class="docutils literal notranslate"><span class="pre">cephadm</span></code> to get started with Ceph, follow the instructions in
<a class="reference internal" href="install/#cephadm-deploying-new-cluster"><span class="std std-ref">Deploying a new Ceph cluster</span></a>.</p>
<p><code class="docutils literal notranslate"><span class="pre">cephadm</span></code> was introduced in Ceph release v15.2.0 (Octopus) and does not
support older versions of Ceph.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="compatibility/">Compatibility and Stability</a><ul>
<li class="toctree-l2"><a class="reference internal" href="compatibility/#compatibility-with-podman-versions">Compatibility with Podman Versions</a></li>
<li class="toctree-l2"><a class="reference internal" href="compatibility/#stability">Stability</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="install/">Deploying a new Ceph cluster</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install/#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="install/#install-cephadm">Install cephadm</a></li>
<li class="toctree-l2"><a class="reference internal" href="install/#bootstrap-a-new-cluster">Bootstrap a new cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="install/#enable-ceph-cli">Enable Ceph CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="install/#adding-hosts">Adding Hosts</a></li>
<li class="toctree-l2"><a class="reference internal" href="install/#adding-additional-mons">Adding additional MONs</a></li>
<li class="toctree-l2"><a class="reference internal" href="install/#adding-storage">Adding Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="install/#using-ceph">Using Ceph</a></li>
<li class="toctree-l2"><a class="reference internal" href="install/#different-deployment-scenarios">Different deployment scenarios</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="adoption/">Converting an existing cluster to cephadm</a><ul>
<li class="toctree-l2"><a class="reference internal" href="adoption/#limitations">Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="adoption/#preparation">Preparation</a></li>
<li class="toctree-l2"><a class="reference internal" href="adoption/#adoption-process">Adoption process</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="host-management/">Host Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="host-management/#listing-hosts">Listing Hosts</a></li>
<li class="toctree-l2"><a class="reference internal" href="host-management/#adding-hosts">Adding Hosts</a></li>
<li class="toctree-l2"><a class="reference internal" href="host-management/#removing-hosts">Removing Hosts</a></li>
<li class="toctree-l2"><a class="reference internal" href="host-management/#host-labels">Host labels</a></li>
<li class="toctree-l2"><a class="reference internal" href="host-management/#maintenance-mode">Maintenance Mode</a></li>
<li class="toctree-l2"><a class="reference internal" href="host-management/#rescanning-host-devices">Rescanning Host Devices</a></li>
<li class="toctree-l2"><a class="reference internal" href="host-management/#creating-many-hosts-at-once">Creating many hosts at once</a></li>
<li class="toctree-l2"><a class="reference internal" href="host-management/#setting-the-initial-crush-location-of-host">Setting the initial CRUSH location of host</a></li>
<li class="toctree-l2"><a class="reference internal" href="host-management/#ssh-configuration">SSH Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="host-management/#fully-qualified-domain-names-vs-bare-host-names">Fully qualified domain names vs bare host names</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="services/">Service Management</a><ul>
<li class="toctree-l2"><a class="reference internal" href="services/mon/">MON Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/mgr/">MGR Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/osd/">OSD Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/rgw/">RGW Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/mds/">MDS Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/nfs/">NFS Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/iscsi/">iSCSI Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/custom-container/">Custom Container Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/monitoring/">Monitoring Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/snmp-gateway/">SNMP Gateway Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/#service-status">Service Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/#daemon-status">Daemon Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/#service-specification">Service Specification</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/#daemon-placement">Daemon Placement</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/#extra-container-arguments">Extra Container Arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/#extra-entrypoint-arguments">Extra Entrypoint Arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/#custom-config-files">Custom Config Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/#removing-a-service">Removing a Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/#disabling-automatic-deployment-of-daemons">Disabling automatic deployment of daemons</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="upgrade/">Upgrading Ceph</a><ul>
<li class="toctree-l2"><a class="reference internal" href="upgrade/#starting-the-upgrade">Starting the upgrade</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrade/#monitoring-the-upgrade">Monitoring the upgrade</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrade/#canceling-an-upgrade">Canceling an upgrade</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrade/#post-upgrade-actions">Post upgrade actions</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrade/#potential-problems">Potential problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrade/#using-customized-container-images">Using customized container images</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrade/#staggered-upgrade">Staggered Upgrade</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="operations/">Cephadm operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="operations/#watching-cephadm-log-messages">Watching cephadm log messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="operations/#ceph-daemon-logs">Ceph daemon logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="operations/#data-location">Data location</a></li>
<li class="toctree-l2"><a class="reference internal" href="operations/#health-checks">Health checks</a></li>
<li class="toctree-l2"><a class="reference internal" href="operations/#client-keyrings-and-configs">Client keyrings and configs</a></li>
<li class="toctree-l2"><a class="reference internal" href="operations/#etc-ceph-ceph-conf">/etc/ceph/ceph.conf</a></li>
<li class="toctree-l2"><a class="reference internal" href="operations/#purging-a-cluster">Purging a cluster</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="client-setup/">Client Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="client-setup/#config-file-setup">Config File Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="client-setup/#keyring-setup">Keyring Setup</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting/">Troubleshooting</a><ul>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting/#pausing-or-disabling-cephadm">Pausing or Disabling cephadm</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting/#per-service-and-per-daemon-events">Per-service and Per-daemon Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting/#checking-cephadm-logs">Checking Cephadm Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting/#gathering-log-files">Gathering Log Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting/#collecting-systemd-status">Collecting Systemd Status</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting/#list-all-downloaded-container-images">List all Downloaded Container Images</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting/#manually-running-containers">Manually Running Containers</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting/#ssh-errors">SSH Errors</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting/#failed-to-infer-cidr-network-error">Failed to Infer CIDR network error</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting/#accessing-the-admin-socket">Accessing the Admin Socket</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting/#running-various-ceph-tools">Running Various Ceph Tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting/#restoring-the-monitor-quorum">Restoring the Monitor Quorum</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting/#manually-deploying-a-manager-daemon">Manually Deploying a Manager Daemon</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting/#analyzing-core-dumps">Analyzing Core Dumps</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../dev/cephadm/">Cephadm Feature Planning</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dev/cephadm/developing-cephadm/">Developing with cephadm</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/cephadm/host-maintenance/">Host Maintenance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/cephadm/compliance-check/">Compliance Check</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/cephadm/cephadm-exporter/">cephadm Exporter</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/cephadm/scalability-notes/">Notes and Thoughts on Cephadm’s scalability</a></li>
</ul>
</li>
</ul>
</div>
</section>



            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../">
              <img class="logo" src="../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../start/intro/">Intro to Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../install/">Installing Ceph</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Cephadm</a><ul>
<li class="toctree-l2"><a class="reference internal" href="compatibility/">Compatibility and Stability</a></li>
<li class="toctree-l2"><a class="reference internal" href="install/">Deploying a new Ceph cluster</a></li>
<li class="toctree-l2"><a class="reference internal" href="adoption/">Converting an existing cluster to cephadm</a></li>
<li class="toctree-l2"><a class="reference internal" href="host-management/">Host Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="services/">Service Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrade/">Upgrading Ceph</a></li>
<li class="toctree-l2"><a class="reference internal" href="operations/">Cephadm operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="client-setup/">Client Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dev/cephadm/">Cephadm Feature Planning</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../rados/">Ceph Storage Cluster</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../rados/configuration/">Configuration</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Deployment</a><ul>
<li class="toctree-l3"><a class="reference internal" href="compatibility/">Compatibility and Stability</a></li>
<li class="toctree-l3"><a class="reference internal" href="install/">Deploying a new Ceph cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="adoption/">Converting an existing cluster to cephadm</a></li>
<li class="toctree-l3"><a class="reference internal" href="host-management/">Host Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="services/">Service Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="upgrade/">Upgrading Ceph</a></li>
<li class="toctree-l3"><a class="reference internal" href="operations/">Cephadm operations</a></li>
<li class="toctree-l3"><a class="reference internal" href="client-setup/">Client Setup</a></li>
<li class="toctree-l3"><a class="reference internal" href="troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l3"><a class="reference internal" href="../dev/cephadm/">Cephadm Feature Planning</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../rados/operations/">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rados/man/">Man Pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rados/troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../rados/api/">APIs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../cephfs/">Ceph File System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../rbd/">Ceph Block Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../radosgw/">Ceph Object Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mgr/">Ceph Manager Daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../mgr/dashboard/">Ceph Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api/">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/developer_guide/">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev/internals/">Ceph Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../governance/">Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../foundation/">Ceph Foundation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/general/">Ceph Releases (general)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/">Ceph Releases (index)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../security/">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../glossary/">Glossary</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="compatibility/" title="Compatibility and Stability"
             >next</a> |</li>
        <li class="right" >
          <a href="../install/manual-freebsd-deployment/" title="Manual Deployment on FreeBSD"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../">Ceph Documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Cephadm</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>