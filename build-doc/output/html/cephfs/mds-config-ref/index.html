
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>MDS Config Reference &#8212; Ceph Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="ceph-mds – ceph metadata server daemon" href="../../man/8/ceph-mds/" />
    <link rel="prev" title="MDS Cache Configuration" href="../cache-configuration/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../man/8/ceph-mds/" title="ceph-mds – ceph metadata server daemon"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../cache-configuration/" title="MDS Cache Configuration"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" accesskey="U">Ceph File System</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">MDS Config Reference</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div id="docubetter" align="right" style="padding: 15px; font-weight: bold;">
    <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <section id="mds-config-reference">
<h1>MDS Config Reference<a class="headerlink" href="#mds-config-reference" title="Permalink to this heading">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">mds_cache_memory_limit</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The memory limit the MDS should enforce for its cache.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>64-bit Integer Unsigned</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">4G</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_cache_reservation</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The cache reservation (memory or inodes) for the MDS cache to maintain.
Once the MDS begins dipping into its reservation, it will recall
client state until its cache size shrinks to restore the
reservation.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0.05</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_cache_mid</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The insertion point for new items in the cache LRU
(from the top).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0.7</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_dir_commit_ratio</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The fraction of directory that is dirty before Ceph commits using
a full update (instead of partial update).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0.5</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_dir_max_commit_size</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The maximum size of a directory update before Ceph breaks it into
smaller transactions (MB).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_dir_max_entries</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The maximum number of entries before any new entries are rejected
with ENOSPC.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>64-bit Integer Unsigned</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_decay_halflife</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The half-life of MDS cache temperature.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">5</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_beacon_interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The frequency (in seconds) of beacon messages sent
to the monitor.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">4</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_beacon_grace</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The interval without beacons before Ceph declares an MDS laggy
(and possibly replace it).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">15</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_blocklist_interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The blocklist duration for failed MDSs in the OSD map. Note,
this controls how long failed MDS daemons will stay in the
OSDMap blocklist. It has no effect on how long something is
blocklisted when the administrator blocklists it manually. For
example, <code class="docutils literal notranslate"><span class="pre">ceph</span> <span class="pre">osd</span> <span class="pre">blocklist</span> <span class="pre">add</span></code> will still use the default
blocklist time.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">24.0*60.0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_reconnect_timeout</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The interval (in seconds) to wait for clients to reconnect
during MDS restart.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">45</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_tick_interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>How frequently the MDS performs internal periodic tasks.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">5</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_dirstat_min_interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The minimum interval (in seconds) to try to avoid propagating
recursive stats up the tree.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_scatter_nudge_interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>How quickly dirstat changes propagate up.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">5</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_client_prealloc_inos</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The number of inode numbers to preallocate per client session.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">1000</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_early_reply</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Determines whether the MDS should allow clients to see request
results before they commit to the journal.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_default_dir_hash</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The function to use for hashing files across directory fragments.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">2</span></code> (i.e., rjenkins)</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_log_skip_corrupt_events</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Determines whether the MDS should try to skip corrupt journal
events during journal replay.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_log_max_events</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The maximum events in the journal before we initiate trimming.
Set to <code class="docutils literal notranslate"><span class="pre">-1</span></code> to disable limits.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">-1</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_log_max_segments</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The maximum number of segments (objects) in the journal before
we initiate trimming. Set to <code class="docutils literal notranslate"><span class="pre">-1</span></code> to disable limits.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">128</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_sample_interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Determines how frequently to sample directory temperature
(for fragmentation decisions).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">3</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_replicate_threshold</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The maximum temperature before Ceph attempts to replicate
metadata to other nodes.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">8000</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_unreplicate_threshold</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The minimum temperature before Ceph stops replicating
metadata to other nodes.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_split_size</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The maximum directory size before the MDS will split a directory
fragment into smaller bits.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">10000</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_split_rd</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The maximum directory read temperature before Ceph splits
a directory fragment.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">25000</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_split_wr</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The maximum directory write temperature before Ceph splits
a directory fragment.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">10000</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_split_bits</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The number of bits by which to split a directory fragment.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">3</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_merge_size</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The minimum directory size before Ceph tries to merge
adjacent directory fragments.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">50</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The frequency (in seconds) of workload exchanges between MDSs.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_fragment_interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The delay (in seconds) between a fragment being eligible for split
or merge and executing the fragmentation change.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">5</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_fragment_fast_factor</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The ratio by which frags may exceed the split size before
a split is executed immediately (skipping the fragment interval)</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">1.5</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_fragment_size_max</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The maximum size of a fragment before any new entries
are rejected with ENOSPC.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">100000</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_idle_threshold</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The minimum temperature before Ceph migrates a subtree
back to its parent.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_max</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The number of iterations to run balancer before Ceph stops.
(used for testing purposes only)</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">-1</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_max_until</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The number of seconds to run balancer before Ceph stops.
(used for testing purposes only)</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">-1</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_mode</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The method for calculating MDS load.</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">0</span></code> = Hybrid.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">1</span></code> = Request rate and latency.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">2</span></code> = CPU load.</p></li>
</ul>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_min_rebalance</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The minimum subtree temperature before Ceph migrates.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0.1</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_min_start</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The minimum subtree temperature before Ceph searches a subtree.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0.2</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_need_min</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The minimum fraction of target subtree size to accept.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0.8</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_need_max</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The maximum fraction of target subtree size to accept.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">1.2</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_midchunk</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will migrate any subtree that is larger than this fraction
of the target subtree size.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0.3</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_minchunk</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will ignore any subtree that is smaller than this fraction
of the target subtree size.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0.001</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_target_removal_min</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The minimum number of balancer iterations before Ceph removes
an old MDS target from the MDS map.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">5</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_bal_target_removal_max</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The maximum number of balancer iterations before Ceph removes
an old MDS target from the MDS map.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">10</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_replay_interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The journal poll interval when in standby-replay mode.
(“hot standby”)</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">1</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_shutdown_check</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The interval for polling the cache during MDS shutdown.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_thrash_exports</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will randomly export subtrees between nodes (testing only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_thrash_fragments</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will randomly fragment or merge directories.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_dump_cache_on_map</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will dump the MDS cache contents to a file on each MDSMap.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_dump_cache_after_rejoin</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will dump MDS cache contents to a file after
rejoining the cache (during recovery).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_verify_scatter</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will assert that various scatter/gather invariants
are <code class="docutils literal notranslate"><span class="pre">true</span></code> (developers only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_debug_scatterstat</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will assert that various recursive stat invariants
are <code class="docutils literal notranslate"><span class="pre">true</span></code> (for developers only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_debug_frag</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will verify directory fragmentation invariants
when convenient (developers only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_debug_auth_pins</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The debug auth pin invariants (for developers only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_debug_subtrees</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The debug subtree invariants (for developers only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_kill_mdstable_at</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will inject MDS failure in MDSTable code
(for developers only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_kill_export_at</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will inject MDS failure in the subtree export code
(for developers only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_kill_import_at</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will inject MDS failure in the subtree import code
(for developers only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_kill_link_at</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will inject MDS failure in hard link code
(for developers only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_kill_rename_at</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will inject MDS failure in the rename code
(for developers only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_inject_skip_replaying_inotable</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will skip replaying the inotable when replaying the journal,
and the premary MDS will crash, while the replacing MDS won’t.
(for developers only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_kill_skip_replaying_inotable</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will skip replaying the inotable when replaying the journal,
and the premary MDS will crash, while the replacing MDS won’t.
(for developers only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_wipe_sessions</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will delete all client sessions on startup
(for testing only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_wipe_ino_prealloc</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will delete ino preallocation metadata on startup
(for testing only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_skip_ino</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The number of inode numbers to skip on startup
(for testing only).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_min_caps_per_client</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Set the minimum number of capabilities a client may hold.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">100</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mds_max_ratio_caps_per_client</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Set the maximum ratio of current caps that may be recalled during MDS cache pressure.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Float</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0.8</span></code></p>
</dd>
</dl>
</section>



            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/intro/">Intro to Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/">Installing Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephadm/">Cephadm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rados/">Ceph Storage Cluster</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Ceph File System</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../#getting-started-with-cephfs">Getting Started with CephFS</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../#administration">Administration</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../createfs/"> Create a CephFS file system</a></li>
<li class="toctree-l3"><a class="reference internal" href="../administration/"> Administrative commands</a></li>
<li class="toctree-l3"><a class="reference internal" href="../multifs/"> Creating Multiple File Systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../add-remove-mds/"> Provision/Add/Remove MDS(s)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../standby/">Terminology</a></li>
<li class="toctree-l3"><a class="reference internal" href="../standby/#referring-to-mds-daemons">Referring to MDS daemons</a></li>
<li class="toctree-l3"><a class="reference internal" href="../standby/#managing-failover">Managing failover</a></li>
<li class="toctree-l3"><a class="reference internal" href="../standby/#configuring-standby-replay">Configuring standby-replay</a></li>
<li class="toctree-l3"><a class="reference internal" href="../standby/#configuring-mds-file-system-affinity">Configuring MDS file system affinity</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cache-configuration/"> MDS Cache Configuration</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#"> MDS Configuration Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../man/8/ceph-mds/"> Manual: ceph-mds</a></li>
<li class="toctree-l3"><a class="reference internal" href="../nfs/"> Export over NFS</a></li>
<li class="toctree-l3"><a class="reference internal" href="../app-best-practices/"> Application best practices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fs-volumes/"> FS volume and subvolumes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../quota/"> CephFS Quotas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../health-messages/"> Health messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrading/">Upgrading the MDS Cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="../upgrading/#upgrading-pre-firefly-file-systems-past-jewel">Upgrading pre-Firefly file systems past Jewel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cephfs-top/"> CephFS Top Utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../snap-schedule/"> Scheduled Snapshots</a></li>
<li class="toctree-l3"><a class="reference internal" href="../cephfs-mirroring/"> CephFS Snapshot Mirroring</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../#mounting-cephfs">Mounting CephFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#cephfs-concepts">CephFS Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#troubleshooting-and-disaster-recovery">Troubleshooting and Disaster Recovery</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#developer-guides">Developer Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#additional-details">Additional Details</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../rbd/">Ceph Block Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../radosgw/">Ceph Object Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/">Ceph Manager Daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/dashboard/">Ceph Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/developer_guide/">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/internals/">Ceph Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../governance/">Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundation/">Ceph Foundation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/general/">Ceph Releases (general)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/">Ceph Releases (index)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/">Glossary</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../man/8/ceph-mds/" title="ceph-mds – ceph metadata server daemon"
             >next</a> |</li>
        <li class="right" >
          <a href="../cache-configuration/" title="MDS Cache Configuration"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" >Ceph File System</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">MDS Config Reference</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>