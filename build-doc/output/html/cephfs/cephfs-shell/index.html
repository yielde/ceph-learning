
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>CephFS Shell &#8212; Ceph Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/custom.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../genindex/" />
    <link rel="search" title="Search" href="../../search/" />
    <link rel="next" title="Supported Features of the Kernel Driver" href="../kernel-features/" />
    <link rel="prev" title="Mount CephFS on Windows" href="../ceph-dokan/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../kernel-features/" title="Supported Features of the Kernel Driver"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../ceph-dokan/" title="Mount CephFS on Windows"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" accesskey="U">Ceph File System</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CephFS Shell</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div id="docubetter" align="right" style="padding: 15px; font-weight: bold;">
    <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <section id="cephfs-shell">
<h1>CephFS Shell<a class="headerlink" href="#cephfs-shell" title="Permalink to this heading">¶</a></h1>
<p>CephFS Shell provides shell-like commands that directly interact with the
<a class="reference internal" href="../../glossary/#term-Ceph-File-System"><span class="xref std std-term">Ceph File System</span></a>.</p>
<p>This tool can be used in interactive mode as well as in non-interactive mode.
In former mode, cephfs-shell opens a shell session and after the given command
is finished, it prints the prompt string and waits indefinitely. When the
shell session is finished, cephfs-shell quits with the return value of last
executed command. In non-interactive mode, cephfs-shell issues a command and
exits right after the command’s execution is complete with the command’s
return value.</p>
<p>Behaviour of CephFS Shell can be tweaked using <code class="docutils literal notranslate"><span class="pre">cephfs-shell.conf</span></code>. Refer to
<a class="reference internal" href="#cephfs-shell-configuration-file">CephFS Shell Configuration File</a> for details.</p>
<p>Usage :</p>
<blockquote>
<div><p>cephfs-shell [options] [command]
cephfs-shell [options] – [command, command,…]</p>
</div></blockquote>
<dl>
<dt>Options :</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-c</span>, <span class="option">--config <var>FILE</var></span></kbd></dt>
<dd><p>Path to cephfs-shell.conf</p>
</dd>
<dt><kbd><span class="option">-b</span>, <span class="option">--batch <var>FILE</var></span></kbd></dt>
<dd><p>Path to batch file.</p>
</dd>
<dt><kbd><span class="option">-t</span>, <span class="option">--test <var>FILE</var></span></kbd></dt>
<dd><p>Path to transcript(s) in FILE for testing</p>
</dd>
</dl>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Latest version of the cmd2 module is required for running cephfs-shell.
If CephFS is installed through source, execute cephfs-shell in the build
directory. It can also be executed as following using virtualenv:</p>
</div>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="o">[</span>build<span class="o">]</span>$<span class="w"> </span>python3<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>venv<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">source</span><span class="w"> </span>venv/bin/activate<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>pip3<span class="w"> </span>install<span class="w"> </span>cmd2
<span class="o">[</span>build<span class="o">]</span>$<span class="w"> </span><span class="nb">source</span><span class="w"> </span>vstart_environment.sh<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nb">source</span><span class="w"> </span>venv/bin/activate<span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span>python3<span class="w"> </span>../src/tools/cephfs/shell/cephfs-shell
</pre></div>
</div>
<section id="commands">
<h2>Commands<a class="headerlink" href="#commands" title="Permalink to this heading">¶</a></h2>
<section id="mkdir">
<h3>mkdir<a class="headerlink" href="#mkdir" title="Permalink to this heading">¶</a></h3>
<p>Create the directory(ies), if they do not already exist.</p>
<p>Usage :</p>
<blockquote>
<div><p>mkdir [-option] &lt;directory&gt;…</p>
</div></blockquote>
<ul class="simple">
<li><p>directory - name of the directory to be created.</p></li>
</ul>
<dl>
<dt>Options :</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-m <var>MODE</var></span></kbd></dt>
<dd><p>Sets the access mode for the new directory.</p>
</dd>
<dt><kbd><span class="option">-p</span>, <span class="option">--parent</span></kbd></dt>
<dd><p>Create parent directories as necessary. When this option is specified, no error is reported if a directory already exists.</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="put">
<h3>put<a class="headerlink" href="#put" title="Permalink to this heading">¶</a></h3>
<p>Copy a file/directory to Ceph File System from Local File System.</p>
<p>Usage :</p>
<blockquote>
<div><p>put [options] &lt;source_path&gt; &lt;target_path&gt;</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>source_path - local file/directory path to be copied to cephfs.</dt><dd><ul>
<li><p>if <cite>.</cite> copies all the file/directories in the local working directory.</p></li>
<li><p>if <cite>-</cite>  Reads the input from stdin.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>target_path - remote directory path where the files/directories are to be copied to.</dt><dd><ul>
<li><p>if <cite>.</cite> files/directories are copied to the remote working directory.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<dl>
<dt>Options :</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-f</span>, <span class="option">--force</span></kbd></dt>
<dd><p>Overwrites the destination if it already exists.</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="get">
<h3>get<a class="headerlink" href="#get" title="Permalink to this heading">¶</a></h3>
<p>Copy a file from Ceph File System to Local File System.</p>
<p>Usage :</p>
<blockquote>
<div><p>get [options] &lt;source_path&gt; &lt;target_path&gt;</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>source_path - remote file/directory path which is to be copied to local file system.</dt><dd><ul>
<li><p>if <cite>.</cite> copies all the file/directories in the remote working directory.</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>target_path - local directory path where the files/directories are to be copied to.</dt><dd><ul>
<li><p>if <cite>.</cite> files/directories are copied to the local working directory.</p></li>
<li><p>if <cite>-</cite> Writes output to stdout.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<dl>
<dt>Options:</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-f</span>, <span class="option">--force</span></kbd></dt>
<dd><p>Overwrites the destination if it already exists.</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="ls">
<h3>ls<a class="headerlink" href="#ls" title="Permalink to this heading">¶</a></h3>
<p>List all the files and directories in the current working directory.</p>
<p>Usage :</p>
<blockquote>
<div><p>ls [option] [directory]…</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>directory - name of directory whose files/directories are to be listed.</dt><dd><ul>
<li><p>By default current working directory’s files/directories are listed.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<dl>
<dt>Options:</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-l</span>, <span class="option">--long</span></kbd></dt>
<dd><p>list with long format - show permissions</p>
</dd>
<dt><kbd><span class="option">-r</span>, <span class="option">--reverse</span></kbd></dt>
<dd><p>reverse sort</p>
</dd>
<dt><kbd><span class="option">-H</span></kbd></dt>
<dd><p>human readable</p>
</dd>
<dt><kbd><span class="option">-a</span>, <span class="option">-a<var>ll</var></span></kbd></dt>
<dd><p>ignore entries starting with .</p>
</dd>
<dt><kbd><span class="option">-S</span></kbd></dt>
<dd><p>Sort by file_size</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="cat">
<h3>cat<a class="headerlink" href="#cat" title="Permalink to this heading">¶</a></h3>
<p>Concatenate files and print on the standard output</p>
<p>Usage :</p>
<blockquote>
<div><p>cat  &lt;file&gt;….</p>
</div></blockquote>
<ul class="simple">
<li><p>file - name of the file</p></li>
</ul>
</section>
<section id="cd">
<h3>cd<a class="headerlink" href="#cd" title="Permalink to this heading">¶</a></h3>
<p>Change current working directory.</p>
<p>Usage :</p>
<blockquote>
<div><p>cd [directory]</p>
</div></blockquote>
<ul class="simple">
<li><dl class="simple">
<dt>directory - path/directory name. If no directory is mentioned it is changed to the root directory.</dt><dd><ul>
<li><p>If ‘.’ moves to the parent directory of the current directory.</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="cwd">
<h3>cwd<a class="headerlink" href="#cwd" title="Permalink to this heading">¶</a></h3>
<p>Get current working directory.</p>
<p>Usage :</p>
<blockquote>
<div><p>cwd</p>
</div></blockquote>
</section>
<section id="quit-ctrl-d">
<h3>quit/Ctrl + D<a class="headerlink" href="#quit-ctrl-d" title="Permalink to this heading">¶</a></h3>
<p>Close the shell.</p>
</section>
<section id="chmod">
<h3>chmod<a class="headerlink" href="#chmod" title="Permalink to this heading">¶</a></h3>
<p>Change the permissions of file/directory.</p>
<p>Usage :</p>
<blockquote>
<div><p>chmod &lt;mode&gt; &lt;file/directory&gt;</p>
</div></blockquote>
</section>
<section id="mv">
<h3>mv<a class="headerlink" href="#mv" title="Permalink to this heading">¶</a></h3>
<p>Moves files/Directory from source to destination.</p>
<p>Usage :</p>
<blockquote>
<div><p>mv &lt;source_path&gt; &lt;destination_path&gt;</p>
</div></blockquote>
</section>
<section id="rmdir">
<h3>rmdir<a class="headerlink" href="#rmdir" title="Permalink to this heading">¶</a></h3>
<p>Delete a directory(ies).</p>
<p>Usage :</p>
<blockquote>
<div><p>rmdir &lt;directory_name&gt;…..</p>
</div></blockquote>
</section>
<section id="rm">
<h3>rm<a class="headerlink" href="#rm" title="Permalink to this heading">¶</a></h3>
<p>Remove a file(es).</p>
<p>Usage :</p>
<blockquote>
<div><p>rm &lt;file_name/pattern&gt;…</p>
</div></blockquote>
</section>
<section id="write">
<h3>write<a class="headerlink" href="#write" title="Permalink to this heading">¶</a></h3>
<p>Create and Write a file.</p>
<p>Usage :</p>
<blockquote>
<div><p>write &lt;file_name&gt;
&lt;Enter Data&gt;
Ctrl+D Exit.</p>
</div></blockquote>
</section>
<section id="lls">
<h3>lls<a class="headerlink" href="#lls" title="Permalink to this heading">¶</a></h3>
<p>Lists all files and directories in the specified directory.Current local directory files and directories are listed if no     path is mentioned</p>
<p>Usage:</p>
<blockquote>
<div><p>lls &lt;path&gt;…..</p>
</div></blockquote>
</section>
<section id="lcd">
<h3>lcd<a class="headerlink" href="#lcd" title="Permalink to this heading">¶</a></h3>
<p>Moves into the given local directory.</p>
<p>Usage :</p>
<blockquote>
<div><p>lcd &lt;path&gt;</p>
</div></blockquote>
</section>
<section id="lpwd">
<h3>lpwd<a class="headerlink" href="#lpwd" title="Permalink to this heading">¶</a></h3>
<p>Prints the absolute path of the current local directory.</p>
<p>Usage :</p>
<blockquote>
<div><p>lpwd</p>
</div></blockquote>
</section>
<section id="umask">
<h3>umask<a class="headerlink" href="#umask" title="Permalink to this heading">¶</a></h3>
<p>Set and get the file mode creation mask</p>
<p>Usage :</p>
<blockquote>
<div><p>umask [mode]</p>
</div></blockquote>
</section>
<section id="alias">
<h3>alias<a class="headerlink" href="#alias" title="Permalink to this heading">¶</a></h3>
<p>Define or display aliases</p>
<p>Usage:</p>
<blockquote>
<div><p>alias [name] | [&lt;name&gt; &lt;value&gt;]</p>
</div></blockquote>
<ul class="simple">
<li><p>name - name of the alias being looked up, added, or replaced</p></li>
<li><p>value - what the alias will be resolved to (if adding or replacing) this can contain spaces and does not need to be quoted</p></li>
</ul>
</section>
<section id="run-pyscript">
<h3>run_pyscript<a class="headerlink" href="#run-pyscript" title="Permalink to this heading">¶</a></h3>
<p>Runs a python script file inside the console</p>
<p>Usage:</p>
<blockquote>
<div><p>run_pyscript &lt;script_path&gt; [script_arguments]</p>
</div></blockquote>
<ul class="simple">
<li><p>Console commands can be executed inside this script with cmd (“your command”)
However, you cannot run nested “py” or “pyscript” commands from within this
script. Paths or arguments that contain spaces must be enclosed in quotes</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command is available as <code class="docutils literal notranslate"><span class="pre">pyscript</span></code> for cmd2 versions 0.9.13
or less.</p>
</div>
</section>
<section id="py">
<h3>py<a class="headerlink" href="#py" title="Permalink to this heading">¶</a></h3>
<p>Invoke python command, shell, or script</p>
<p>Usage :</p>
<blockquote>
<div><p>py &lt;command&gt;: Executes a Python command.
py: Enters interactive Python mode.</p>
</div></blockquote>
</section>
<section id="shortcuts">
<h3>shortcuts<a class="headerlink" href="#shortcuts" title="Permalink to this heading">¶</a></h3>
<p>Lists shortcuts (aliases) available</p>
<p>Usage :</p>
<blockquote>
<div><p>shortcuts</p>
</div></blockquote>
</section>
<section id="history">
<h3>history<a class="headerlink" href="#history" title="Permalink to this heading">¶</a></h3>
<p>View, run, edit, and save previously entered commands.</p>
<p>Usage :</p>
<blockquote>
<div><p>history [-h] [-r | -e | -s | -o FILE | -t TRANSCRIPT] [arg]</p>
</div></blockquote>
<dl>
<dt>Options:</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-h</span></kbd></dt>
<dd><p>show this help message and exit</p>
</dd>
<dt><kbd><span class="option">-r</span></kbd></dt>
<dd><p>run selected history items</p>
</dd>
<dt><kbd><span class="option">-e</span></kbd></dt>
<dd><p>edit and then run selected history items</p>
</dd>
<dt><kbd><span class="option">-s</span></kbd></dt>
<dd><p>script format; no separation lines</p>
</dd>
<dt><kbd><span class="option">-o <var>FILE</var></span></kbd></dt>
<dd><p>output commands to a script file</p>
</dd>
<dt><kbd><span class="option">-t <var>TRANSCRIPT</var></span></kbd></dt>
<dd><p>output commands and results to a transcript file</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="unalias">
<h3>unalias<a class="headerlink" href="#unalias" title="Permalink to this heading">¶</a></h3>
<p>Unsets aliases</p>
<p>Usage :</p>
<blockquote>
<div><p>unalias [-a] name [name …]</p>
</div></blockquote>
<ul class="simple">
<li><p>name - name of the alias being unset</p></li>
</ul>
<dl>
<dt>Options:</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-a</span></kbd></dt>
<dd><p>remove all alias definitions</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="set">
<h3>set<a class="headerlink" href="#set" title="Permalink to this heading">¶</a></h3>
<p>Sets a settable parameter or shows current settings of parameters.</p>
<p>Usage :</p>
<blockquote>
<div><p>set [-h] [-a] [-l] [settable [settable …]]</p>
</div></blockquote>
<ul class="simple">
<li><p>Call without arguments for a list of settable parameters with their values.</p></li>
</ul>
<dl>
<dt>Options :</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-h</span></kbd></dt>
<dd><p>show this help message and exit</p>
</dd>
<dt><kbd><span class="option">-a</span></kbd></dt>
<dd><p>display read-only settings as well</p>
</dd>
<dt><kbd><span class="option">-l</span></kbd></dt>
<dd><p>describe function of parameter</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="edit">
<h3>edit<a class="headerlink" href="#edit" title="Permalink to this heading">¶</a></h3>
<p>Edit a file in a text editor.</p>
<p>Usage:</p>
<blockquote>
<div><p>edit [file_path]</p>
</div></blockquote>
<ul class="simple">
<li><p>file_path - path to a file to open in editor</p></li>
</ul>
</section>
<section id="run-script">
<h3>run_script<a class="headerlink" href="#run-script" title="Permalink to this heading">¶</a></h3>
<p>Runs commands in script file that is encoded as either ASCII or UTF-8 text.
Each command in the script should be separated by a newline.</p>
<p>Usage:</p>
<blockquote>
<div><p>run_script &lt;file_path&gt;</p>
</div></blockquote>
<ul class="simple">
<li><p>file_path - a file path pointing to a script</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This command is available as <code class="docutils literal notranslate"><span class="pre">load</span></code> for cmd2 versions 0.9.13
or less.</p>
</div>
</section>
<section id="shell">
<h3>shell<a class="headerlink" href="#shell" title="Permalink to this heading">¶</a></h3>
<p>Execute a command as if at the OS prompt.</p>
<p>Usage:</p>
<blockquote>
<div><p>shell &lt;command&gt; [arguments]</p>
</div></blockquote>
</section>
<section id="locate">
<h3>locate<a class="headerlink" href="#locate" title="Permalink to this heading">¶</a></h3>
<p>Find an item in File System</p>
<p>Usage:</p>
<blockquote>
<div><p>locate [options] &lt;name&gt;</p>
</div></blockquote>
<dl>
<dt>Options :</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-c</span></kbd></dt>
<dd><p>Count number of items found</p>
</dd>
<dt><kbd><span class="option">-i</span></kbd></dt>
<dd><p>Ignore case</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="stat">
<h3>stat<a class="headerlink" href="#stat" title="Permalink to this heading">¶</a></h3>
<p>Display file status.</p>
<p>Usage :</p>
<blockquote>
<div><p>stat [-h] &lt;file_name&gt; [file_name …]</p>
</div></blockquote>
<dl>
<dt>Options :</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-h</span></kbd></dt>
<dd><p>Shows the help message</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="snap">
<h3>snap<a class="headerlink" href="#snap" title="Permalink to this heading">¶</a></h3>
<p>Create or Delete Snapshot</p>
<p>Usage:</p>
<blockquote>
<div><p>snap {create|delete} &lt;snap_name&gt; &lt;dir_name&gt;</p>
</div></blockquote>
<ul class="simple">
<li><p>snap_name - Snapshot name to be created or deleted</p></li>
<li><p>dir_name - directory under which snapshot should be created or deleted</p></li>
</ul>
</section>
<section id="setxattr">
<h3>setxattr<a class="headerlink" href="#setxattr" title="Permalink to this heading">¶</a></h3>
<p>Set extended attribute for a file</p>
<p>Usage :</p>
<blockquote>
<div><p>setxattr [-h] &lt;path&gt; &lt;name&gt; &lt;value&gt;</p>
</div></blockquote>
<ul class="simple">
<li><p>path - Path to the file</p></li>
<li><p>name - Extended attribute name to get or set</p></li>
<li><p>value - Extended attribute value to be set</p></li>
</ul>
<dl>
<dt>Options:</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>Shows the help message</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="getxattr">
<h3>getxattr<a class="headerlink" href="#getxattr" title="Permalink to this heading">¶</a></h3>
<p>Get extended attribute value for the name associated with the path</p>
<p>Usage :</p>
<blockquote>
<div><p>getxattr [-h] &lt;path&gt; &lt;name&gt;</p>
</div></blockquote>
<ul class="simple">
<li><p>path - Path to the file</p></li>
<li><p>name - Extended attribute name to get or set</p></li>
</ul>
<dl>
<dt>Options:</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>Shows the help message</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="listxattr">
<h3>listxattr<a class="headerlink" href="#listxattr" title="Permalink to this heading">¶</a></h3>
<p>List extended attribute names associated with the path</p>
<p>Usage :</p>
<blockquote>
<div><p>listxattr [-h] &lt;path&gt;</p>
</div></blockquote>
<ul class="simple">
<li><p>path - Path to the file</p></li>
</ul>
<dl>
<dt>Options:</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>Shows the help message</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="df">
<h3>df<a class="headerlink" href="#df" title="Permalink to this heading">¶</a></h3>
<p>Display amount of available disk space</p>
<p>Usage :</p>
<blockquote>
<div><p>df [-h] [file [file …]]</p>
</div></blockquote>
<ul class="simple">
<li><p>file - name of the file</p></li>
</ul>
<dl>
<dt>Options:</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>Shows the help message</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="du">
<h3>du<a class="headerlink" href="#du" title="Permalink to this heading">¶</a></h3>
<p>Show disk usage of a directory</p>
<p>Usage :</p>
<blockquote>
<div><p>du [-h] [-r] [paths [paths …]]</p>
</div></blockquote>
<ul class="simple">
<li><p>paths - name of the directory</p></li>
</ul>
<dl>
<dt>Options:</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>Shows the help message</p>
</dd>
<dt><kbd><span class="option">-r</span></kbd></dt>
<dd><p>Recursive Disk usage of all directories</p>
</dd>
</dl>
</dd>
</dl>
</section>
<section id="quota">
<h3>quota<a class="headerlink" href="#quota" title="Permalink to this heading">¶</a></h3>
<p>Quota management for a Directory</p>
<p>Usage :</p>
<blockquote>
<div><p>quota [-h] [–max_bytes [MAX_BYTES]] [–max_files [MAX_FILES]] {get,set} path</p>
</div></blockquote>
<ul class="simple">
<li><p>{get,set} - quota operation type.</p></li>
<li><p>path - name of the directory.</p></li>
</ul>
<dl>
<dt>Options :</dt><dd><dl class="option-list">
<dt><kbd><span class="option">-h</span>, <span class="option">--help</span></kbd></dt>
<dd><p>Shows the help message</p>
</dd>
<dt><kbd><span class="option">--max_bytes <var>MAX_BYTES</var></span></kbd></dt>
<dd><p>Set max cumulative size of the data under this directory</p>
</dd>
<dt><kbd><span class="option">--max_files <var>MAX_FILES</var></span></kbd></dt>
<dd><p>Set total number of files under this directory tree</p>
</dd>
</dl>
</dd>
</dl>
</section>
</section>
<section id="cephfs-shell-configuration-file">
<h2>CephFS Shell Configuration File<a class="headerlink" href="#cephfs-shell-configuration-file" title="Permalink to this heading">¶</a></h2>
<p>By default, CephFS Shell looks for <code class="docutils literal notranslate"><span class="pre">cephfs-shell.conf</span></code> in the path provided
by the environment variable <code class="docutils literal notranslate"><span class="pre">CEPHFS_SHELL_CONF</span></code> and then in user’s home
directory (<code class="docutils literal notranslate"><span class="pre">~/.cephfs-shell.conf</span></code>).</p>
<p>Right now, CephFS Shell inherits all its options from its dependency <code class="docutils literal notranslate"><span class="pre">cmd2</span></code>.
Therefore, these options might vary with the version of <code class="docutils literal notranslate"><span class="pre">cmd2</span></code> installed on
your system. Refer to <code class="docutils literal notranslate"><span class="pre">cmd2</span></code> docs for a description of these options.</p>
<p>Following is a sample <code class="docutils literal notranslate"><span class="pre">cephfs-shell.conf</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">cephfs</span><span class="o">-</span><span class="n">shell</span><span class="p">]</span>
<span class="n">prompt</span> <span class="o">=</span> <span class="n">CephFS</span><span class="p">:</span><span class="o">~/&gt;&gt;&gt;</span>
<span class="n">continuation_prompt</span> <span class="o">=</span> <span class="o">&gt;</span>

<span class="n">quiet</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">timing</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">colors</span> <span class="o">=</span> <span class="kc">True</span>
<span class="n">debug</span> <span class="o">=</span> <span class="kc">False</span>

<span class="n">abbrev</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">autorun_on_edit</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">echo</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">editor</span> <span class="o">=</span> <span class="n">vim</span>
<span class="n">feedback_to_output</span> <span class="o">=</span> <span class="kc">False</span>
<span class="n">locals_in_py</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
</section>
<section id="exit-code">
<h2>Exit Code<a class="headerlink" href="#exit-code" title="Permalink to this heading">¶</a></h2>
<p>Following exit codes are returned by cephfs shell</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 81%" />
<col style="width: 19%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Error Type</p></th>
<th class="head"><p>Exit Code</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Miscellaneous</p></td>
<td><p>1</p></td>
</tr>
<tr class="row-odd"><td><p>Keyboard Interrupt</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-even"><td><p>Operation not permitted</p></td>
<td><p>3</p></td>
</tr>
<tr class="row-odd"><td><p>Permission denied</p></td>
<td><p>4</p></td>
</tr>
<tr class="row-even"><td><p>No such file or directory</p></td>
<td><p>5</p></td>
</tr>
<tr class="row-odd"><td><p>I/O error</p></td>
<td><p>6</p></td>
</tr>
<tr class="row-even"><td><p>No space left on device</p></td>
<td><p>7</p></td>
</tr>
<tr class="row-odd"><td><p>File exists</p></td>
<td><p>8</p></td>
</tr>
<tr class="row-even"><td><p>No data available</p></td>
<td><p>9</p></td>
</tr>
<tr class="row-odd"><td><p>Invalid argument</p></td>
<td><p>10</p></td>
</tr>
<tr class="row-even"><td><p>Operation not supported on transport endpoint</p></td>
<td><p>11</p></td>
</tr>
<tr class="row-odd"><td><p>Range error</p></td>
<td><p>12</p></td>
</tr>
<tr class="row-even"><td><p>Operation would block</p></td>
<td><p>13</p></td>
</tr>
<tr class="row-odd"><td><p>Directory not empty</p></td>
<td><p>14</p></td>
</tr>
<tr class="row-even"><td><p>Not a directory</p></td>
<td><p>15</p></td>
</tr>
<tr class="row-odd"><td><p>Disk quota exceeded</p></td>
<td><p>16</p></td>
</tr>
<tr class="row-even"><td><p>Broken pipe</p></td>
<td><p>17</p></td>
</tr>
<tr class="row-odd"><td><p>Cannot send after transport endpoint shutdown</p></td>
<td><p>18</p></td>
</tr>
<tr class="row-even"><td><p>Connection aborted</p></td>
<td><p>19</p></td>
</tr>
<tr class="row-odd"><td><p>Connection refused</p></td>
<td><p>20</p></td>
</tr>
<tr class="row-even"><td><p>Connection reset</p></td>
<td><p>21</p></td>
</tr>
<tr class="row-odd"><td><p>Interrupted function call</p></td>
<td><p>22</p></td>
</tr>
</tbody>
</table>
</section>
</section>



            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../">
              <img class="logo" src="../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../start/intro/">Intro to Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../install/">Installing Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../cephadm/">Cephadm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rados/">Ceph Storage Cluster</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Ceph File System</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../#getting-started-with-cephfs">Getting Started with CephFS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#administration">Administration</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../#mounting-cephfs">Mounting CephFS</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../client-config-ref/"> Client Configuration Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../client-auth/"> Client Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mount-prerequisites/"> Mount CephFS: Prerequisites</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mount-using-kernel-driver/"> Mount CephFS using Kernel Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mount-using-fuse/"> Mount CephFS using FUSE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-dokan/"> Mount CephFS on Windows</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#"> Use the CephFS Shell</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#commands">Commands</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#mkdir">mkdir</a></li>
<li class="toctree-l5"><a class="reference internal" href="#put">put</a></li>
<li class="toctree-l5"><a class="reference internal" href="#get">get</a></li>
<li class="toctree-l5"><a class="reference internal" href="#ls">ls</a></li>
<li class="toctree-l5"><a class="reference internal" href="#cat">cat</a></li>
<li class="toctree-l5"><a class="reference internal" href="#cd">cd</a></li>
<li class="toctree-l5"><a class="reference internal" href="#cwd">cwd</a></li>
<li class="toctree-l5"><a class="reference internal" href="#quit-ctrl-d">quit/Ctrl + D</a></li>
<li class="toctree-l5"><a class="reference internal" href="#chmod">chmod</a></li>
<li class="toctree-l5"><a class="reference internal" href="#mv">mv</a></li>
<li class="toctree-l5"><a class="reference internal" href="#rmdir">rmdir</a></li>
<li class="toctree-l5"><a class="reference internal" href="#rm">rm</a></li>
<li class="toctree-l5"><a class="reference internal" href="#write">write</a></li>
<li class="toctree-l5"><a class="reference internal" href="#lls">lls</a></li>
<li class="toctree-l5"><a class="reference internal" href="#lcd">lcd</a></li>
<li class="toctree-l5"><a class="reference internal" href="#lpwd">lpwd</a></li>
<li class="toctree-l5"><a class="reference internal" href="#umask">umask</a></li>
<li class="toctree-l5"><a class="reference internal" href="#alias">alias</a></li>
<li class="toctree-l5"><a class="reference internal" href="#run-pyscript">run_pyscript</a></li>
<li class="toctree-l5"><a class="reference internal" href="#py">py</a></li>
<li class="toctree-l5"><a class="reference internal" href="#shortcuts">shortcuts</a></li>
<li class="toctree-l5"><a class="reference internal" href="#history">history</a></li>
<li class="toctree-l5"><a class="reference internal" href="#unalias">unalias</a></li>
<li class="toctree-l5"><a class="reference internal" href="#set">set</a></li>
<li class="toctree-l5"><a class="reference internal" href="#edit">edit</a></li>
<li class="toctree-l5"><a class="reference internal" href="#run-script">run_script</a></li>
<li class="toctree-l5"><a class="reference internal" href="#shell">shell</a></li>
<li class="toctree-l5"><a class="reference internal" href="#locate">locate</a></li>
<li class="toctree-l5"><a class="reference internal" href="#stat">stat</a></li>
<li class="toctree-l5"><a class="reference internal" href="#snap">snap</a></li>
<li class="toctree-l5"><a class="reference internal" href="#setxattr">setxattr</a></li>
<li class="toctree-l5"><a class="reference internal" href="#getxattr">getxattr</a></li>
<li class="toctree-l5"><a class="reference internal" href="#listxattr">listxattr</a></li>
<li class="toctree-l5"><a class="reference internal" href="#df">df</a></li>
<li class="toctree-l5"><a class="reference internal" href="#du">du</a></li>
<li class="toctree-l5"><a class="reference internal" href="#quota">quota</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#cephfs-shell-configuration-file">CephFS Shell Configuration File</a></li>
<li class="toctree-l4"><a class="reference internal" href="#exit-code">Exit Code</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../kernel-features/"> Supported Features of Kernel Driver</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../man/8/ceph-fuse/"> Manual: ceph-fuse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../man/8/mount.ceph/"> Manual: mount.ceph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../man/8/mount.fuse.ceph/"> Manual: mount.fuse.ceph</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../#cephfs-concepts">CephFS Concepts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#troubleshooting-and-disaster-recovery">Troubleshooting and Disaster Recovery</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#developer-guides">Developer Guides</a></li>
<li class="toctree-l2"><a class="reference internal" href="../#additional-details">Additional Details</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../rbd/">Ceph Block Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../radosgw/">Ceph Object Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/">Ceph Manager Daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../mgr/dashboard/">Ceph Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api/">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../architecture/">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/developer_guide/">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../dev/internals/">Ceph Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../governance/">Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../foundation/">Ceph Foundation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/general/">Ceph Releases (general)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/">Ceph Releases (index)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../security/">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../glossary/">Glossary</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../kernel-features/" title="Supported Features of the Kernel Driver"
             >next</a> |</li>
        <li class="right" >
          <a href="../ceph-dokan/" title="Mount CephFS on Windows"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" >Ceph File System</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">CephFS Shell</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>