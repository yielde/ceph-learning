
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Commit merging: scope and cadence &#8212; Ceph Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex/" />
    <link rel="search" title="Search" href="../../../search/" />
    <link rel="next" title="Issue Tracker" href="../issue-tracker/" />
    <link rel="prev" title="Essentials (tl;dr)" href="../essentials/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../issue-tracker/" title="Issue Tracker"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../essentials/" title="Essentials (tl;dr)"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" accesskey="U">Contributing to Ceph: A Guide for Developers</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Commit merging:  scope and cadence</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div id="docubetter" align="right" style="padding: 15px; font-weight: bold;">
    <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <section id="commit-merging-scope-and-cadence">
<span id="merging"></span><h1>Commit merging:  scope and cadence<a class="headerlink" href="#commit-merging-scope-and-cadence" title="Permalink to this heading">¶</a></h1>
<p>Commits are merged into branches according to criteria specific to each phase
of the Ceph release lifecycle. This chapter codifies these criteria.</p>
<section id="development-releases-i-e-x-0-z">
<h2>Development releases (i.e. x.0.z)<a class="headerlink" href="#development-releases-i-e-x-0-z" title="Permalink to this heading">¶</a></h2>
<section id="what">
<h3>What ?<a class="headerlink" href="#what" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Features</p></li>
<li><p>Bug fixes</p></li>
</ul>
</section>
<section id="where">
<h3>Where ?<a class="headerlink" href="#where" title="Permalink to this heading">¶</a></h3>
<p>Features are merged to the <em>main</em> branch. Bug fixes should be merged to the
corresponding named branch (e.g. <em>nautilus</em> for 14.0.z, <em>pacific</em> for 16.0.z,
etc.). However, this is not mandatory - bug fixes and documentation
enhancements can be merged to the <em>main</em> branch as well, since the <em>main</em>
branch is itself occasionally merged to the named branch during the development
releases phase. In either case, if a bug fix is important it can also be
flagged for backport to one or more previous stable releases.</p>
</section>
<section id="when">
<h3>When ?<a class="headerlink" href="#when" title="Permalink to this heading">¶</a></h3>
<p>After each stable release, candidate branches for previous releases enter
phase 2 (see below).  For example: the <em>jewel</em> named branch was created when
the <em>infernalis</em> release candidates entered phase 2. From this point on,
<em>main</em> was no longer associated with <em>infernalis</em>. After he named branch of
the next stable release is created, <em>main</em> will be occasionally merged into
it.</p>
</section>
<section id="branch-merges">
<h3>Branch merges<a class="headerlink" href="#branch-merges" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The latest stable release branch is merged periodically into main.</p></li>
<li><p>The main branch is merged periodically into the branch of the stable release.</p></li>
<li><p>The main is merged into the stable release branch
immediately after each development (x.0.z) release.</p></li>
</ul>
</section>
</section>
<section id="stable-release-candidates-i-e-x-1-z-phase-1">
<h2>Stable release candidates (i.e. x.1.z) phase 1<a class="headerlink" href="#stable-release-candidates-i-e-x-1-z-phase-1" title="Permalink to this heading">¶</a></h2>
<section id="id1">
<h3>What ?<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Bug fixes only</p></li>
</ul>
</section>
<section id="id2">
<h3>Where ?<a class="headerlink" href="#id2" title="Permalink to this heading">¶</a></h3>
<p>The stable release branch (e.g. <em>jewel</em> for 10.0.z, <em>luminous</em>
for 12.0.z, etc.) or <em>main</em>.  Bug fixes should be merged to the named
branch corresponding to the stable release candidate (e.g. <em>jewel</em> for
10.1.z) or to <em>main</em>. During this phase, all commits to <em>main</em> will be
merged to the named branch, and vice versa. In other words, it makes
no difference whether a commit is merged to the named branch or to
<em>main</em> - it will make it into the next release candidate either way.</p>
</section>
<section id="id3">
<h3>When ?<a class="headerlink" href="#id3" title="Permalink to this heading">¶</a></h3>
<p>After the first stable release candidate is published, i.e. after the
x.1.0 tag is set in the release branch.</p>
</section>
<section id="id4">
<h3>Branch merges<a class="headerlink" href="#id4" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The stable release branch is merged periodically into <em>main</em>.</p></li>
<li><p>The <em>main</em> branch is merged periodically into the stable release branch.</p></li>
<li><p>The <em>main</em> branch is merged into the stable release branch
immediately after each x.1.z release candidate.</p></li>
</ul>
</section>
</section>
<section id="stable-release-candidates-i-e-x-1-z-phase-2">
<h2>Stable release candidates (i.e. x.1.z) phase 2<a class="headerlink" href="#stable-release-candidates-i-e-x-1-z-phase-2" title="Permalink to this heading">¶</a></h2>
<section id="id5">
<h3>What ?<a class="headerlink" href="#id5" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Bug fixes only</p></li>
</ul>
</section>
<section id="id6">
<h3>Where ?<a class="headerlink" href="#id6" title="Permalink to this heading">¶</a></h3>
<p>The stable release branch (e.g. <em>mimic</em> for 13.0.z, <em>octopus</em> for 15.0.z
,etc.). During this phase, all commits to the named branch will be merged into
<em>main</em>. Cherry-picking to the named branch during release candidate phase 2
is performed manually since the official backporting process begins only when
the release is pronounced “stable”.</p>
</section>
<section id="id7">
<h3>When ?<a class="headerlink" href="#id7" title="Permalink to this heading">¶</a></h3>
<p>After Sage Weil announces that it is time for phase 2 to happen.</p>
</section>
<section id="id8">
<h3>Branch merges<a class="headerlink" href="#id8" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>The stable release branch is occasionally merged into main.</p></li>
</ul>
</section>
</section>
<section id="stable-releases-i-e-x-2-z">
<h2>Stable releases (i.e. x.2.z)<a class="headerlink" href="#stable-releases-i-e-x-2-z" title="Permalink to this heading">¶</a></h2>
<section id="id9">
<h3>What ?<a class="headerlink" href="#id9" title="Permalink to this heading">¶</a></h3>
<ul class="simple">
<li><p>Bug fixes</p></li>
<li><p>Features are sometime accepted</p></li>
<li><p>Commits should be cherry-picked from <em>main</em> when possible</p></li>
<li><p>Commits that are not cherry-picked from <em>main</em> must pertain to a bug unique to
the stable release</p></li>
<li><p>See also the <a class="reference external" href="http://tracker.ceph.com/projects/ceph-releases/wiki/HOWTO#HOWTO">backport HOWTO</a> document</p></li>
</ul>
</section>
<section id="id10">
<h3>Where ?<a class="headerlink" href="#id10" title="Permalink to this heading">¶</a></h3>
<p>The stable release branch (<em>hammer</em> for 0.94.x, <em>infernalis</em> for 9.2.x,
etc.)</p>
</section>
<section id="id11">
<h3>When ?<a class="headerlink" href="#id11" title="Permalink to this heading">¶</a></h3>
<p>After the stable release is published, i.e. after the “vx.2.0” tag is set in
the release branch.</p>
</section>
<section id="id12">
<h3>Branch merges<a class="headerlink" href="#id12" title="Permalink to this heading">¶</a></h3>
<p>Never</p>
</section>
</section>
</section>



            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Intro to Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">Installing Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephadm/">Cephadm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rados/">Ceph Storage Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph File System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/">Ceph Block Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph Object Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/">Ceph Manager Daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/dashboard/">Ceph Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">Architecture</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../">Developer Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../intro/">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../essentials/">Essentials</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">What is Merged and When</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#development-releases-i-e-x-0-z">Development releases (i.e. x.0.z)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#what">What ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#where">Where ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#when">When ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#branch-merges">Branch merges</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#stable-release-candidates-i-e-x-1-z-phase-1">Stable release candidates (i.e. x.1.z) phase 1</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id1">What ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">Where ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id3">When ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id4">Branch merges</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#stable-release-candidates-i-e-x-1-z-phase-2">Stable release candidates (i.e. x.1.z) phase 2</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id5">What ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id6">Where ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id7">When ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id8">Branch merges</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#stable-releases-i-e-x-2-z">Stable releases (i.e. x.2.z)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#id9">What ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id10">Where ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id11">When ?</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id12">Branch merges</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../issue-tracker/">Issue tracker</a></li>
<li class="toctree-l2"><a class="reference internal" href="../basic-workflow/">Basic workflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tests-unit-tests/">Tests: Unit Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tests-integration-tests/">Tests: Integration Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running-tests-locally/">Running Tests Locally</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running-tests-using-teuth/">Running Integration Tests using Teuthology</a></li>
<li class="toctree-l2"><a class="reference internal" href="../running-tests-in-cloud/">Running Tests in the Cloud</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dash-devel/">Ceph Dashboard Developer Documentation (formerly HACKING.rst)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../cephadm/">cephadm Developer Documentation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../internals/">Ceph Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../governance/">Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../foundation/">Ceph Foundation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/general/">Ceph Releases (general)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/">Ceph Releases (index)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Glossary</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../issue-tracker/" title="Issue Tracker"
             >next</a> |</li>
        <li class="right" >
          <a href="../essentials/" title="Essentials (tl;dr)"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../" >Contributing to Ceph: A Guide for Developers</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Commit merging:  scope and cadence</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>