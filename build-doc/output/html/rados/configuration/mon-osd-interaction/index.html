
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Configuring Monitor/OSD Interaction &#8212; Ceph Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex/" />
    <link rel="search" title="Search" href="../../../search/" />
    <link rel="next" title="OSD Config Reference" href="../osd-config-ref/" />
    <link rel="prev" title="Looking up Monitors through DNS" href="../mon-lookup-dns/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../osd-config-ref/" title="OSD Config Reference"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../mon-lookup-dns/" title="Looking up Monitors through DNS"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../" >Ceph Storage Cluster</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../" accesskey="U">Configuration</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Configuring Monitor/OSD Interaction</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div id="docubetter" align="right" style="padding: 15px; font-weight: bold;">
    <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <section id="configuring-monitor-osd-interaction">
<h1>Configuring Monitor/OSD Interaction<a class="headerlink" href="#configuring-monitor-osd-interaction" title="Permalink to this heading">¶</a></h1>
<p id="index-0">After you have completed your initial Ceph configuration, you may deploy and run
Ceph.  When you execute a command such as <code class="docutils literal notranslate"><span class="pre">ceph</span> <span class="pre">health</span></code> or <code class="docutils literal notranslate"><span class="pre">ceph</span> <span class="pre">-s</span></code>,  the
<a class="reference internal" href="../../../glossary/#term-Ceph-Monitor"><span class="xref std std-term">Ceph Monitor</span></a> reports on the current state of the <a class="reference internal" href="../../../glossary/#term-Ceph-Storage-Cluster"><span class="xref std std-term">Ceph Storage
Cluster</span></a>. The Ceph Monitor knows about the Ceph Storage Cluster by requiring
reports from each <a class="reference internal" href="../../../glossary/#term-Ceph-OSD-Daemon"><span class="xref std std-term">Ceph OSD Daemon</span></a>, and by receiving reports from Ceph
OSD Daemons about the status of their neighboring Ceph OSD Daemons. If the Ceph
Monitor doesn’t receive reports, or if it receives reports of changes in the
Ceph Storage Cluster, the Ceph Monitor updates the status of the <a class="reference internal" href="../../../glossary/#term-Ceph-Cluster-Map"><span class="xref std std-term">Ceph
Cluster Map</span></a>.</p>
<p>Ceph provides reasonable default settings for Ceph Monitor/Ceph OSD Daemon
interaction. However, you may override the defaults. The following sections
describe how Ceph Monitors and Ceph OSD Daemons interact for the purposes of
monitoring the Ceph Storage Cluster.</p>
<section id="osds-check-heartbeats">
<span id="index-1"></span><h2>OSDs Check Heartbeats<a class="headerlink" href="#osds-check-heartbeats" title="Permalink to this heading">¶</a></h2>
<p>Each Ceph OSD Daemon checks the heartbeat of other Ceph OSD Daemons at random
intervals less than every 6 seconds.  If a neighboring Ceph OSD Daemon doesn’t
show a heartbeat within a 20 second grace period, the Ceph OSD Daemon may
consider the neighboring Ceph OSD Daemon <code class="docutils literal notranslate"><span class="pre">down</span></code> and report it back to a Ceph
Monitor, which will update the Ceph Cluster Map. You may change this grace
period by adding an <code class="docutils literal notranslate"><span class="pre">osd</span> <span class="pre">heartbeat</span> <span class="pre">grace</span></code> setting under the <code class="docutils literal notranslate"><span class="pre">[mon]</span></code>
and <code class="docutils literal notranslate"><span class="pre">[osd]</span></code> or <code class="docutils literal notranslate"><span class="pre">[global]</span></code> section of your Ceph configuration file,
or by setting the value at runtime.</p>
<p class="ditaa">
<img src="../../../_images/ditaa-445812455304f21ffe56440cf81649d3835b9a4d.png"/>
</p>
</section>
<section id="osds-report-down-osds">
<span id="index-2"></span><h2>OSDs Report Down OSDs<a class="headerlink" href="#osds-report-down-osds" title="Permalink to this heading">¶</a></h2>
<p>By default, two Ceph OSD Daemons from different hosts must report to the Ceph
Monitors that another Ceph OSD Daemon is <code class="docutils literal notranslate"><span class="pre">down</span></code> before the Ceph Monitors
acknowledge that the reported Ceph OSD Daemon is <code class="docutils literal notranslate"><span class="pre">down</span></code>. But there is chance
that all the OSDs reporting the failure are hosted in a rack with a bad switch
which has trouble connecting to another OSD. To avoid this sort of false alarm,
we consider the peers reporting a failure a proxy for a potential “subcluster”
over the overall cluster that is similarly laggy. This is clearly not true in
all cases, but will sometimes help us localize the grace correction to a subset
of the system that is unhappy. <code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">reporter</span> <span class="pre">subtree</span> <span class="pre">level</span></code> is used to
group the peers into the “subcluster” by their common ancestor type in CRUSH
map. By default, only two reports from different subtree are required to report
another Ceph OSD Daemon <code class="docutils literal notranslate"><span class="pre">down</span></code>. You can change the number of reporters from
unique subtrees and the common ancestor type required to report a Ceph OSD
Daemon <code class="docutils literal notranslate"><span class="pre">down</span></code> to a Ceph Monitor by adding an <code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">min</span> <span class="pre">down</span> <span class="pre">reporters</span></code>
and <code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">reporter</span> <span class="pre">subtree</span> <span class="pre">level</span></code> settings  under the <code class="docutils literal notranslate"><span class="pre">[mon]</span></code> section of
your Ceph configuration file, or by setting the value at runtime.</p>
<p class="ditaa">
<img src="../../../_images/ditaa-15d56b22a50b6b8618cf5945174c6d8fef55be6a.png"/>
</p>
</section>
<section id="osds-report-peering-failure">
<span id="index-3"></span><h2>OSDs Report Peering Failure<a class="headerlink" href="#osds-report-peering-failure" title="Permalink to this heading">¶</a></h2>
<p>If a Ceph OSD Daemon cannot peer with any of the Ceph OSD Daemons defined in its
Ceph configuration file (or the cluster map), it will ping a Ceph Monitor for
the most recent copy of the cluster map every 30 seconds. You can change the
Ceph Monitor heartbeat interval by adding an <code class="docutils literal notranslate"><span class="pre">osd</span> <span class="pre">mon</span> <span class="pre">heartbeat</span> <span class="pre">interval</span></code>
setting under the <code class="docutils literal notranslate"><span class="pre">[osd]</span></code> section of your Ceph configuration file, or by
setting the value at runtime.</p>
<p class="ditaa">
<img src="../../../_images/ditaa-0873bb9405742345397fa2e085b6ac453aa3f975.png"/>
</p>
</section>
<section id="osds-report-their-status">
<span id="index-4"></span><h2>OSDs Report Their Status<a class="headerlink" href="#osds-report-their-status" title="Permalink to this heading">¶</a></h2>
<p>If an Ceph OSD Daemon doesn’t report to a Ceph Monitor, the Ceph Monitor will
consider the Ceph OSD Daemon <code class="docutils literal notranslate"><span class="pre">down</span></code> after the  <code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">report</span> <span class="pre">timeout</span></code>
elapses. A Ceph OSD Daemon sends a report to a Ceph Monitor when a reportable
event such as a failure, a change in placement group stats, a change in
<code class="docutils literal notranslate"><span class="pre">up_thru</span></code> or when it boots within 5 seconds. You can change the Ceph OSD
Daemon minimum report interval by adding an <code class="docutils literal notranslate"><span class="pre">osd</span> <span class="pre">mon</span> <span class="pre">report</span> <span class="pre">interval</span></code>
setting under the <code class="docutils literal notranslate"><span class="pre">[osd]</span></code> section of your Ceph configuration file, or by
setting the value at runtime. A Ceph OSD Daemon sends a report to a Ceph
Monitor every 120 seconds irrespective of whether any notable changes occur.
You can change the Ceph Monitor report interval by adding an <code class="docutils literal notranslate"><span class="pre">osd</span> <span class="pre">mon</span> <span class="pre">report</span>
<span class="pre">interval</span> <span class="pre">max</span></code> setting under the <code class="docutils literal notranslate"><span class="pre">[osd]</span></code> section of your Ceph configuration
file, or by setting the value at runtime.</p>
<p class="ditaa">
<img src="../../../_images/ditaa-49d872aa7a347dee2861e634eebbb9b8c00a4d45.png"/>
</p>
</section>
<section id="configuration-settings">
<h2>Configuration Settings<a class="headerlink" href="#configuration-settings" title="Permalink to this heading">¶</a></h2>
<p>When modifying heartbeat settings, you should include them in the <code class="docutils literal notranslate"><span class="pre">[global]</span></code>
section of your configuration file.</p>
<section id="monitor-settings">
<span id="index-5"></span><h3>Monitor Settings<a class="headerlink" href="#monitor-settings" title="Permalink to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">min</span> <span class="pre">up</span> <span class="pre">ratio</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The minimum ratio of <code class="docutils literal notranslate"><span class="pre">up</span></code> Ceph OSD Daemons before Ceph will
mark Ceph OSD Daemons <code class="docutils literal notranslate"><span class="pre">down</span></code>.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Double</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">.3</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">min</span> <span class="pre">in</span> <span class="pre">ratio</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The minimum ratio of <code class="docutils literal notranslate"><span class="pre">in</span></code> Ceph OSD Daemons before Ceph will
mark Ceph OSD Daemons <code class="docutils literal notranslate"><span class="pre">out</span></code>.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Double</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">.75</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">laggy</span> <span class="pre">halflife</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The number of seconds laggy estimates will decay.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">60*60</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">laggy</span> <span class="pre">weight</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The weight for new samples in laggy estimation decay.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Double</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">0.3</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">laggy</span> <span class="pre">max</span> <span class="pre">interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Maximum value of <code class="docutils literal notranslate"><span class="pre">laggy_interval</span></code> in laggy estimations (in seconds).
Monitor uses an adaptive approach to evaluate the <code class="docutils literal notranslate"><span class="pre">laggy_interval</span></code> of
a certain OSD. This value will be used to calculate the grace time for
that OSD.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p>300</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">adjust</span> <span class="pre">heartbeat</span> <span class="pre">grace</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, Ceph will scale based on laggy estimations.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">adjust</span> <span class="pre">down</span> <span class="pre">out</span> <span class="pre">interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>If set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, Ceph will scaled based on laggy estimations.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">auto</span> <span class="pre">mark</span> <span class="pre">in</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will mark any booting Ceph OSD Daemons as <code class="docutils literal notranslate"><span class="pre">in</span></code>
the Ceph Storage Cluster.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">false</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">auto</span> <span class="pre">mark</span> <span class="pre">auto</span> <span class="pre">out</span> <span class="pre">in</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will mark booting Ceph OSD Daemons auto marked <code class="docutils literal notranslate"><span class="pre">out</span></code>
of the Ceph Storage Cluster as <code class="docutils literal notranslate"><span class="pre">in</span></code> the cluster.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">auto</span> <span class="pre">mark</span> <span class="pre">new</span> <span class="pre">in</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Ceph will mark booting new Ceph OSD Daemons as <code class="docutils literal notranslate"><span class="pre">in</span></code> the
Ceph Storage Cluster.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>Boolean</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">true</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">down</span> <span class="pre">out</span> <span class="pre">interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The number of seconds Ceph waits before marking a Ceph OSD Daemon
<code class="docutils literal notranslate"><span class="pre">down</span></code> and <code class="docutils literal notranslate"><span class="pre">out</span></code> if it doesn’t respond.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">600</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">down</span> <span class="pre">out</span> <span class="pre">subtree</span> <span class="pre">limit</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The smallest <a class="reference internal" href="../../../glossary/#term-CRUSH"><span class="xref std std-term">CRUSH</span></a> unit type that Ceph will <strong>not</strong>
automatically mark out. For instance, if set to <code class="docutils literal notranslate"><span class="pre">host</span></code> and if
all OSDs of a host are down, Ceph will not automatically mark out
these OSDs.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">rack</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">report</span> <span class="pre">timeout</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The grace period in seconds before declaring
unresponsive Ceph OSD Daemons <code class="docutils literal notranslate"><span class="pre">down</span></code>.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">900</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mon</span> <span class="pre">osd</span> <span class="pre">min</span> <span class="pre">down</span> <span class="pre">reporters</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The minimum number of Ceph OSD Daemons required to report a
<code class="docutils literal notranslate"><span class="pre">down</span></code> Ceph OSD Daemon.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">2</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">mon_osd_reporter_subtree_level</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>In which level of parent bucket the reporters are counted. The OSDs
send failure reports to monitors if they find a peer that is not responsive.
Monitors mark the reported <code class="docutils literal notranslate"><span class="pre">OSD</span></code> out and then <code class="docutils literal notranslate"><span class="pre">down</span></code> after a grace period.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>String</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">host</span></code></p>
</dd>
</dl>
</section>
<section id="osd-settings">
<span id="index-6"></span><h3>OSD Settings<a class="headerlink" href="#osd-settings" title="Permalink to this heading">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">osd_heartbeat_interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>How often an Ceph OSD Daemon pings its peers (in seconds).</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">6</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">osd_heartbeat_grace</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The elapsed time when a Ceph OSD Daemon hasn’t shown a heartbeat
that the Ceph Storage Cluster considers it <code class="docutils literal notranslate"><span class="pre">down</span></code>.
This setting must be set in both the [mon] and [osd] or [global]
sections so that it is read by both monitor and OSD daemons.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">20</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">osd_mon_heartbeat_interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>How often the Ceph OSD Daemon pings a Ceph Monitor if it has no
Ceph OSD Daemon peers.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">30</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">osd_mon_heartbeat_stat_stale</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>Stop reporting on heartbeat ping times which haven’t been updated for
this many seconds.  Set to zero to disable this action.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">3600</span></code></p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">osd_mon_report_interval</span></code></p>
<dl class="field-list simple">
<dt class="field-odd">Description</dt>
<dd class="field-odd"><p>The number of seconds a Ceph OSD Daemon may wait
from startup or another reportable event before reporting
to a Ceph Monitor.</p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p>32-bit Integer</p>
</dd>
<dt class="field-odd">Default</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">5</span></code></p>
</dd>
</dl>
</section>
</section>
</section>



            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Intro to Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">Installing Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephadm/">Cephadm</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../">Ceph Storage Cluster</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../">Configuration</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../storage-devices/">Storage devices</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-conf/">Configuring Ceph</a></li>
<li class="toctree-l3"><a class="reference internal" href="../common/">Common Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../common/#networks">Networks</a></li>
<li class="toctree-l3"><a class="reference internal" href="../common/#monitors">Monitors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../common/#authentication">Authentication</a></li>
<li class="toctree-l3"><a class="reference internal" href="../common/#osds">OSDs</a></li>
<li class="toctree-l3"><a class="reference internal" href="../common/#heartbeats">Heartbeats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../common/#logs-debugging">Logs / Debugging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../common/#example-ceph-conf">Example ceph.conf</a></li>
<li class="toctree-l3"><a class="reference internal" href="../common/#running-multiple-clusters-deprecated">Running Multiple Clusters (DEPRECATED)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../network-config-ref/">Network Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../msgr2/">Messenger v2 protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../auth-config-ref/">Auth Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mon-config-ref/">Monitor Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mon-lookup-dns/">Looking up Monitors through DNS</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Heartbeat Settings</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#osds-check-heartbeats">OSDs Check Heartbeats</a></li>
<li class="toctree-l4"><a class="reference internal" href="#osds-report-down-osds">OSDs Report Down OSDs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#osds-report-peering-failure">OSDs Report Peering Failure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#osds-report-their-status">OSDs Report Their Status</a></li>
<li class="toctree-l4"><a class="reference internal" href="#configuration-settings">Configuration Settings</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#monitor-settings">Monitor Settings</a></li>
<li class="toctree-l5"><a class="reference internal" href="#osd-settings">OSD Settings</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../osd-config-ref/">OSD Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../mclock-config-ref/">DmClock Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../bluestore-config-ref/">BlueStore Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../filestore-config-ref/">FileStore Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../journal-ref/">Journal Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../pool-pg-config-ref/">Pool, PG &amp; CRUSH Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ms-ref/">Messaging Settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general-config-ref/">General Settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../cephadm/">Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../operations/">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../man/">Man Pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../api/">APIs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph File System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/">Ceph Block Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph Object Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/">Ceph Manager Daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/dashboard/">Ceph Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/developer_guide/">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/internals/">Ceph Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../governance/">Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../foundation/">Ceph Foundation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/general/">Ceph Releases (general)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/">Ceph Releases (index)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Glossary</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../osd-config-ref/" title="OSD Config Reference"
             >next</a> |</li>
        <li class="right" >
          <a href="../mon-lookup-dns/" title="Looking up Monitors through DNS"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../" >Ceph Storage Cluster</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../" >Configuration</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Configuring Monitor/OSD Interaction</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>