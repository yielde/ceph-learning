
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>rbd-replay-many – replay a rados block device (RBD) workload on several clients &#8212; Ceph Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex/" />
    <link rel="search" title="Search" href="../../../search/" />
    <link rel="next" title="Ceph Block Device APIs" href="../../../rbd/api/" />
    <link rel="prev" title="rbd-replay – replay rados block device (RBD) workloads" href="../rbd-replay/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../../rbd/api/" title="Ceph Block Device APIs"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../rbd-replay/" title="rbd-replay – replay rados block device (RBD) workloads"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../rbd/" >Ceph Block Device</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../rbd/man/" accesskey="U">Ceph Block Device Manpages</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">rbd-replay-many – replay a rados block device (RBD) workload on several clients</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div id="docubetter" align="right" style="padding: 15px; font-weight: bold;">
    <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <section id="rbd-replay-many-replay-a-rados-block-device-rbd-workload-on-several-clients">
<h1>rbd-replay-many – replay a rados block device (RBD) workload on several clients<a class="headerlink" href="#rbd-replay-many-replay-a-rados-block-device-rbd-workload-on-several-clients" title="Permalink to this heading">¶</a></h1>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this heading">¶</a></h2>
<div class="line-block">
<div class="line"><strong>rbd-replay-many</strong> [ <em>options</em> ] –original-image <em>name</em> <em>host1</em> [ <em>host2</em> [ … ] ] – <em>rbd_replay_args</em></div>
</div>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p><strong>rbd-replay-many</strong> is a utility for replaying a rados block device (RBD) workload on several clients.
Although all clients use the same workload, they replay against separate images.
This matches normal use of librbd, where each original client is a VM with its own image.</p>
<p>Configuration and replay files are not automatically copied to clients.
Replay images must already exist.</p>
</section>
<section id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this heading">¶</a></h2>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-rbd-replay-many-original-image">
<span class="sig-name descname"><span class="pre">--original-image</span></span><span class="sig-prename descclassname"> <span class="pre">name</span></span><a class="headerlink" href="#cmdoption-rbd-replay-many-original-image" title="Permalink to this definition">¶</a></dt>
<dd><p>Specifies the name (and snap) of the originally traced image.
Necessary for correct name mapping.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-rbd-replay-many-image-prefix">
<span class="sig-name descname"><span class="pre">--image-prefix</span></span><span class="sig-prename descclassname"> <span class="pre">prefix</span></span><a class="headerlink" href="#cmdoption-rbd-replay-many-image-prefix" title="Permalink to this definition">¶</a></dt>
<dd><p>Prefix of image names to replay against.
Specifying –image-prefix=foo results in clients replaying against foo-0, foo-1, etc.
Defaults to the original image name.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-rbd-replay-many-exec">
<span class="sig-name descname"><span class="pre">--exec</span></span><span class="sig-prename descclassname"> <span class="pre">program</span></span><a class="headerlink" href="#cmdoption-rbd-replay-many-exec" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to the rbd-replay executable.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-rbd-replay-many-delay">
<span class="sig-name descname"><span class="pre">--delay</span></span><span class="sig-prename descclassname"> <span class="pre">seconds</span></span><a class="headerlink" href="#cmdoption-rbd-replay-many-delay" title="Permalink to this definition">¶</a></dt>
<dd><p>Delay between starting each client.  Defaults to 0.</p>
</dd></dl>

</section>
<section id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this heading">¶</a></h2>
<p>Typical usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rbd</span><span class="o">-</span><span class="n">replay</span><span class="o">-</span><span class="n">many</span> <span class="n">host</span><span class="o">-</span><span class="mi">0</span> <span class="n">host</span><span class="o">-</span><span class="mi">1</span> <span class="o">--</span><span class="n">original</span><span class="o">-</span><span class="n">image</span><span class="o">=</span><span class="n">image</span> <span class="o">--</span> <span class="o">-</span><span class="n">c</span> <span class="n">ceph</span><span class="o">.</span><span class="n">conf</span> <span class="n">replay</span><span class="o">.</span><span class="n">bin</span>
</pre></div>
</div>
<p>This results in the following commands being executed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ssh</span> <span class="n">host</span><span class="o">-</span><span class="mi">0</span> <span class="s1">&#39;rbd-replay&#39;</span> <span class="o">--</span><span class="nb">map</span><span class="o">-</span><span class="n">image</span> <span class="s1">&#39;image=image-0&#39;</span> <span class="o">-</span><span class="n">c</span> <span class="n">ceph</span><span class="o">.</span><span class="n">conf</span> <span class="n">replay</span><span class="o">.</span><span class="n">bin</span>
<span class="n">ssh</span> <span class="n">host</span><span class="o">-</span><span class="mi">1</span> <span class="s1">&#39;rbd-replay&#39;</span> <span class="o">--</span><span class="nb">map</span><span class="o">-</span><span class="n">image</span> <span class="s1">&#39;image=image-1&#39;</span> <span class="o">-</span><span class="n">c</span> <span class="n">ceph</span><span class="o">.</span><span class="n">conf</span> <span class="n">replay</span><span class="o">.</span><span class="n">bin</span>
</pre></div>
</div>
</section>
<section id="availability">
<h2>Availability<a class="headerlink" href="#availability" title="Permalink to this heading">¶</a></h2>
<p><strong>rbd-replay-many</strong> is part of Ceph, a massively scalable, open-source, distributed storage system. Please refer to
the Ceph documentation at <a class="reference external" href="http://ceph.com/docs">http://ceph.com/docs</a> for more information.</p>
</section>
<section id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<p><a class="reference internal" href="../rbd-replay/"><span class="doc">rbd-replay</span></a>(8),
<a class="reference internal" href="../rbd/"><span class="doc">rbd</span></a>(8)</p>
</section>
</section>



            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Intro to Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">Installing Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephadm/">Cephadm</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rados/">Ceph Storage Cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph File System</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../rbd/">Ceph Block Device</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../rbd/rados-rbd-cmds/">Basic Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rbd/rbd-operations/">Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rbd/rbd-integrations/">Integrations</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../rbd/man/">Manpages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../rbd/">rbd</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rbd-fuse/">rbd-fuse</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rbd-nbd/">rbd-nbd</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rbd-ggate/">rbd-ggate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rbdmap/">rbd-map</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-rbdnamer/">ceph-rbdnamer</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rbd-replay-prep/">rbd-replay-prep</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rbd-replay/">rbd-replay</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">rbd-replay-many</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#options">Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#examples">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="#availability">Availability</a></li>
<li class="toctree-l4"><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../rbd/api/">APIs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph Object Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/">Ceph Manager Daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/dashboard/">Ceph Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/developer_guide/">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/internals/">Ceph Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../governance/">Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../foundation/">Ceph Foundation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/general/">Ceph Releases (general)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/">Ceph Releases (index)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Glossary</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../../../rbd/api/" title="Ceph Block Device APIs"
             >next</a> |</li>
        <li class="right" >
          <a href="../rbd-replay/" title="rbd-replay – replay rados block device (RBD) workloads"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../rbd/" >Ceph Block Device</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../rbd/man/" >Ceph Block Device Manpages</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">rbd-replay-many – replay a rados block device (RBD) workload on several clients</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>