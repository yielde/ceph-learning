
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>ceph – ceph administration tool &#8212; Ceph Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex/" />
    <link rel="search" title="Search" href="../../../search/" />
    <link rel="next" title="ceph-authtool – ceph keyring manipulation tool" href="../ceph-authtool/" />
    <link rel="prev" title="ceph-volume-systemd – systemd ceph-volume helper tool" href="../ceph-volume-systemd/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../ceph-authtool/" title="ceph-authtool – ceph keyring manipulation tool"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../ceph-volume-systemd/" title="ceph-volume-systemd – systemd ceph-volume helper tool"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../rados/" >Ceph Storage Cluster</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../rados/man/" accesskey="U">Object Store Manpages</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ceph – ceph administration tool</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div id="docubetter" align="right" style="padding: 15px; font-weight: bold;">
    <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <section id="ceph-ceph-administration-tool">
<h1>ceph – ceph administration tool<a class="headerlink" href="#ceph-ceph-administration-tool" title="Permalink to this heading">¶</a></h1>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this heading">¶</a></h2>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>auth</strong> [ <em>add</em> | <em>caps</em> | <em>del</em> | <em>export</em> | <em>get</em> | <em>get-key</em> | <em>get-or-create</em> | <em>get-or-create-key</em> | <em>import</em> | <em>list</em> | <em>print-key</em> | <em>print_key</em> ] …</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>compact</strong></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>config</strong> [ <em>dump</em> | <em>ls</em> | <em>help</em> | <em>get</em> | <em>show</em> | <em>show-with-defaults</em> | <em>set</em> | <em>rm</em> | <em>log</em> | <em>reset</em> | <em>assimilate-conf</em> | <em>generate-minimal-conf</em> ] …</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>config-key</strong> [ <em>rm</em> | <em>exists</em> | <em>get</em> | <em>ls</em> | <em>dump</em> | <em>set</em> ] …</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>daemon</strong> <em>&lt;name&gt;</em> | <em>&lt;path&gt;</em> <em>&lt;command&gt;</em> …</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>daemonperf</strong> <em>&lt;name&gt;</em> | <em>&lt;path&gt;</em> [ <em>interval</em> [ <em>count</em> ] ]</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>df</strong> <em>{detail}</em></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>fs</strong> [ <em>ls</em> | <em>new</em> | <em>reset</em> | <em>rm</em> | <em>authorize</em> ] …</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>fsid</strong></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>health</strong> <em>{detail}</em></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>injectargs</strong> <em>&lt;injectedargs&gt;</em> [ <em>&lt;injectedargs&gt;</em>… ]</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>log</strong> <em>&lt;logtext&gt;</em> [ <em>&lt;logtext&gt;</em>… ]</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>mds</strong> [ <em>compat</em> | <em>fail</em> | <em>rm</em> | <em>rmfailed</em> | <em>set_state</em> | <em>stat</em> | <em>repaired</em> ] …</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>mon</strong> [ <em>add</em> | <em>dump</em> | <em>getmap</em> | <em>remove</em> | <em>stat</em> ] …</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>osd</strong> [ <em>blocklist</em> | <em>blocked-by</em> | <em>create</em> | <em>new</em> | <em>deep-scrub</em> | <em>df</em> | <em>down</em> | <em>dump</em> | <em>erasure-code-profile</em> | <em>find</em> | <em>getcrushmap</em> | <em>getmap</em> | <em>getmaxosd</em> | <em>in</em> | <em>ls</em> | <em>lspools</em> | <em>map</em> | <em>metadata</em> | <em>ok-to-stop</em> | <em>out</em> | <em>pause</em> | <em>perf</em> | <em>pg-temp</em> | <em>force-create-pg</em> | <em>primary-affinity</em> | <em>primary-temp</em> | <em>repair</em> | <em>reweight</em> | <em>reweight-by-pg</em> | <em>rm</em> | <em>destroy</em> | <em>purge</em> | <em>safe-to-destroy</em> | <em>scrub</em> | <em>set</em> | <em>setcrushmap</em> | <em>setmaxosd</em>  | <em>stat</em> | <em>tree</em> | <em>unpause</em> | <em>unset</em> ] …</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>osd</strong> <strong>crush</strong> [ <em>add</em> | <em>add-bucket</em> | <em>create-or-move</em> | <em>dump</em> | <em>get-tunable</em> | <em>link</em> | <em>move</em> | <em>remove</em> | <em>rename-bucket</em> | <em>reweight</em> | <em>reweight-all</em> | <em>reweight-subtree</em> | <em>rm</em> | <em>rule</em> | <em>set</em> | <em>set-tunable</em> | <em>show-tunables</em> | <em>tunables</em> | <em>unlink</em> ] …</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>osd</strong> <strong>pool</strong> [ <em>create</em> | <em>delete</em> | <em>get</em> | <em>get-quota</em> | <em>ls</em> | <em>mksnap</em> | <em>rename</em> | <em>rmsnap</em> | <em>set</em> | <em>set-quota</em> | <em>stats</em> ] …</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>osd</strong> <strong>pool</strong> <strong>application</strong> [ <em>disable</em> | <em>enable</em> | <em>get</em> | <em>rm</em> | <em>set</em> ] …</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>osd</strong> <strong>tier</strong> [ <em>add</em> | <em>add-cache</em> | <em>cache-mode</em> | <em>remove</em> | <em>remove-overlay</em> | <em>set-overlay</em> ] …</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>pg</strong> [ <em>debug</em> | <em>deep-scrub</em> | <em>dump</em> | <em>dump_json</em> | <em>dump_pools_json</em> | <em>dump_stuck</em> | <em>getmap</em> | <em>ls</em> | <em>ls-by-osd</em> | <em>ls-by-pool</em> | <em>ls-by-primary</em> | <em>map</em> | <em>repair</em> | <em>scrub</em> | <em>stat</em> ] …</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>quorum_status</strong></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>report</strong> { <em>&lt;tags&gt;</em> [ <em>&lt;tags&gt;…</em> ] }</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>status</strong></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>sync</strong> <strong>force</strong> {–yes-i-really-mean-it} {–i-know-what-i-am-doing}</div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>tell</strong> <em>&lt;name (type.id)&gt; &lt;command&gt; [options…]</em></div>
</div>
<div class="line-block">
<div class="line"><strong>ceph</strong> <strong>version</strong></div>
</div>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p><strong class="program">ceph</strong> is a control utility which is used for manual deployment and maintenance
of a Ceph cluster. It provides a diverse set of commands that allows deployment of
monitors, OSDs, placement groups, MDS and overall maintenance, administration
of the cluster.</p>
</section>
<section id="commands">
<h2>Commands<a class="headerlink" href="#commands" title="Permalink to this heading">¶</a></h2>
<section id="auth">
<h3>auth<a class="headerlink" href="#auth" title="Permalink to this heading">¶</a></h3>
<p>Manage authentication keys. It is used for adding, removing, exporting
or updating of authentication keys for a particular  entity such as a monitor or
OSD. It uses some additional subcommands.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">add</span></code> adds authentication info for a particular entity from input
file, or random key if no input is given and/or any caps specified in the command.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">auth</span> <span class="n">add</span> <span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">caps</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">caps</span><span class="o">&gt;...</span><span class="p">]}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">caps</span></code> updates caps for <strong>name</strong> from caps specified in the command.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">auth</span> <span class="n">caps</span> <span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">caps</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">caps</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">del</span></code> deletes all caps for <code class="docutils literal notranslate"><span class="pre">name</span></code>.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">auth</span> <span class="k">del</span> <span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">export</span></code> writes keyring for requested entity, or master keyring if
none given.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">auth</span> <span class="n">export</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">get</span></code> writes keyring file with requested key.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">auth</span> <span class="n">get</span> <span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">get-key</span></code> displays requested key.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">auth</span> <span class="n">get</span><span class="o">-</span><span class="n">key</span> <span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">get-or-create</span></code> adds authentication info for a particular entity
from input file, or random key if no input given and/or any caps specified in the
command.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">auth</span> <span class="n">get</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">create</span> <span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">caps</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">caps</span><span class="o">&gt;...</span><span class="p">]}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">get-or-create-key</span></code> gets or adds key for <code class="docutils literal notranslate"><span class="pre">name</span></code> from system/caps
pairs specified in the command.  If key already exists, any given caps must match
the existing caps for that key.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">auth</span> <span class="n">get</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">create</span><span class="o">-</span><span class="n">key</span> <span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">caps</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">caps</span><span class="o">&gt;...</span><span class="p">]}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">import</span></code> reads keyring from input file.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">auth</span> <span class="kn">import</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">ls</span></code> lists authentication state.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">auth</span> <span class="n">ls</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">print-key</span></code> displays requested key.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">auth</span> <span class="nb">print</span><span class="o">-</span><span class="n">key</span> <span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">print_key</span></code> displays requested key.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">auth</span> <span class="n">print_key</span> <span class="o">&lt;</span><span class="n">entity</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="compact">
<h3>compact<a class="headerlink" href="#compact" title="Permalink to this heading">¶</a></h3>
<p>Causes compaction of monitor’s leveldb storage.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">compact</span>
</pre></div>
</div>
</section>
<section id="config">
<h3>config<a class="headerlink" href="#config" title="Permalink to this heading">¶</a></h3>
<p>Configure the cluster. By default, Ceph daemons and clients retrieve their
configuration options from monitor when they start, and are updated if any of
the tracked options is changed at run time. It uses following additional
subcommand.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">dump</span></code> to dump all options for the cluster</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span> <span class="n">dump</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">ls</span></code> to list all option names for the cluster</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span> <span class="n">ls</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">help</span></code> to describe the specified configuration option</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span> <span class="n">help</span> <span class="o">&lt;</span><span class="n">option</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">get</span></code> to dump the option(s) for the specified entity.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span> <span class="n">get</span> <span class="o">&lt;</span><span class="n">who</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">option</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">show</span></code> to display the running configuration of the specified
entity. Please note, unlike <code class="docutils literal notranslate"><span class="pre">get</span></code>, which only shows the options managed
by monitor, <code class="docutils literal notranslate"><span class="pre">show</span></code> displays all the configurations being actively used.
These options are pulled from several sources, for instance, the compiled-in
default value, the monitor’s configuration database, <code class="docutils literal notranslate"><span class="pre">ceph.conf</span></code> file on
the host. The options can even be overridden at runtime. So, there is chance
that the configuration options in the output of <code class="docutils literal notranslate"><span class="pre">show</span></code> could be different
from those in the output of <code class="docutils literal notranslate"><span class="pre">get</span></code>.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span> <span class="n">show</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">who</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">show-with-defaults</span></code> to display the running configuration along with the compiled-in defaults of the specified entity</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span> <span class="n">show</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">who</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">set</span></code> to set an option for one or more specified entities</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span> <span class="nb">set</span> <span class="o">&lt;</span><span class="n">who</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">option</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">--</span><span class="n">force</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rm</span></code> to clear an option for one or more entities</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span> <span class="n">rm</span> <span class="o">&lt;</span><span class="n">who</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">option</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">log</span></code> to show recent history of config changes. If <cite>count</cite> option
is omitted it defeaults to 10.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span> <span class="n">log</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">count</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">reset</span></code> to revert configuration to the specified historical version</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span> <span class="n">reset</span> <span class="o">&lt;</span><span class="n">version</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">assimilate-conf</span></code> to assimilate options from stdin, and return a
new, minimal conf file</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span> <span class="n">assimilate</span><span class="o">-</span><span class="n">conf</span> <span class="o">-</span><span class="n">i</span> <span class="o">&lt;</span><span class="nb">input</span><span class="o">-</span><span class="n">config</span><span class="o">-</span><span class="n">path</span><span class="o">&gt;</span> <span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">output</span><span class="o">-</span><span class="n">config</span><span class="o">-</span><span class="n">path</span><span class="o">&gt;</span>
<span class="n">ceph</span> <span class="n">config</span> <span class="n">assimilate</span><span class="o">-</span><span class="n">conf</span> <span class="o">&lt;</span> <span class="o">&lt;</span><span class="nb">input</span><span class="o">-</span><span class="n">config</span><span class="o">-</span><span class="n">path</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">generate-minimal-conf</span></code> to generate a minimal <code class="docutils literal notranslate"><span class="pre">ceph.conf</span></code> file,
which can be used for bootstrapping a daemon or a client.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span> <span class="n">generate</span><span class="o">-</span><span class="n">minimal</span><span class="o">-</span><span class="n">conf</span> <span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">minimal</span><span class="o">-</span><span class="n">config</span><span class="o">-</span><span class="n">path</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="config-key">
<h3>config-key<a class="headerlink" href="#config-key" title="Permalink to this heading">¶</a></h3>
<p>Manage configuration key. Config-key is a general purpose key/value service
offered by the monitors. This service is mainly used by Ceph tools and daemons
for persisting various settings. Among which, ceph-mgr modules uses it for
storing their options. It uses some additional subcommands.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rm</span></code> deletes configuration key.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span><span class="o">-</span><span class="n">key</span> <span class="n">rm</span> <span class="o">&lt;</span><span class="n">key</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">exists</span></code> checks for configuration keys existence.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span><span class="o">-</span><span class="n">key</span> <span class="n">exists</span> <span class="o">&lt;</span><span class="n">key</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">get</span></code> gets the configuration key.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span><span class="o">-</span><span class="n">key</span> <span class="n">get</span> <span class="o">&lt;</span><span class="n">key</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">ls</span></code> lists configuration keys.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span><span class="o">-</span><span class="n">key</span> <span class="n">ls</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">dump</span></code> dumps configuration keys and values.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span><span class="o">-</span><span class="n">key</span> <span class="n">dump</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">set</span></code> puts configuration key and value.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">config</span><span class="o">-</span><span class="n">key</span> <span class="nb">set</span> <span class="o">&lt;</span><span class="n">key</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="daemon">
<h3>daemon<a class="headerlink" href="#daemon" title="Permalink to this heading">¶</a></h3>
<p>Submit admin-socket commands.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">daemon</span> <span class="p">{</span><span class="n">daemon_name</span><span class="o">|</span><span class="n">socket_path</span><span class="p">}</span> <span class="p">{</span><span class="n">command</span><span class="p">}</span> <span class="o">...</span>
</pre></div>
</div>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">daemon</span> <span class="n">osd</span><span class="mf">.0</span> <span class="n">help</span>
</pre></div>
</div>
</section>
<section id="daemonperf">
<h3>daemonperf<a class="headerlink" href="#daemonperf" title="Permalink to this heading">¶</a></h3>
<p>Watch performance counters from a Ceph daemon.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">daemonperf</span> <span class="p">{</span><span class="n">daemon_name</span><span class="o">|</span><span class="n">socket_path</span><span class="p">}</span> <span class="p">[{</span><span class="n">interval</span><span class="p">}</span> <span class="p">[{</span><span class="n">count</span><span class="p">}]]</span>
</pre></div>
</div>
</section>
<section id="df">
<h3>df<a class="headerlink" href="#df" title="Permalink to this heading">¶</a></h3>
<p>Show cluster’s free space status.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">df</span> <span class="p">{</span><span class="n">detail</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="features">
<span id="ceph-features"></span><h3>features<a class="headerlink" href="#features" title="Permalink to this heading">¶</a></h3>
<p>Show the releases and features of all connected daemons and clients connected
to the cluster, along with the numbers of them in each bucket grouped by the
corresponding features/releases. Each release of Ceph supports a different set
of features, expressed by the features bitmask. New cluster features require
that clients support the feature, or else they are not allowed to connect to
these new features. As new features or capabilities are enabled after an
upgrade, older clients are prevented from connecting.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">features</span>
</pre></div>
</div>
</section>
<section id="fs">
<h3>fs<a class="headerlink" href="#fs" title="Permalink to this heading">¶</a></h3>
<p>Manage cephfs file systems. It uses some additional subcommands.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">ls</span></code> to list file systems</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">fs</span> <span class="n">ls</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">new</span></code> to make a new file system using named pools &lt;metadata&gt; and &lt;data&gt;</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">fs</span> <span class="n">new</span> <span class="o">&lt;</span><span class="n">fs_name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">metadata</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">data</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">reset</span></code> is used for disaster recovery only: reset to a single-MDS map</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">fs</span> <span class="n">reset</span> <span class="o">&lt;</span><span class="n">fs_name</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">--</span><span class="n">yes</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="n">really</span><span class="o">-</span><span class="n">mean</span><span class="o">-</span><span class="n">it</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rm</span></code> to disable the named file system</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">fs</span> <span class="n">rm</span> <span class="o">&lt;</span><span class="n">fs_name</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">--</span><span class="n">yes</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="n">really</span><span class="o">-</span><span class="n">mean</span><span class="o">-</span><span class="n">it</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">authorize</span></code> creates a new client that will be authorized for the
given path in <code class="docutils literal notranslate"><span class="pre">&lt;fs_name&gt;</span></code>. Pass <code class="docutils literal notranslate"><span class="pre">/</span></code> to authorize for the entire FS.
<code class="docutils literal notranslate"><span class="pre">&lt;perms&gt;</span></code> below can be <code class="docutils literal notranslate"><span class="pre">r</span></code>, <code class="docutils literal notranslate"><span class="pre">rw</span></code> or <code class="docutils literal notranslate"><span class="pre">rwp</span></code>.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">fs</span> <span class="n">authorize</span> <span class="o">&lt;</span><span class="n">fs_name</span><span class="o">&gt;</span> <span class="n">client</span><span class="o">.&lt;</span><span class="n">client_id</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">perms</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">path</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">perms</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="fsid">
<h3>fsid<a class="headerlink" href="#fsid" title="Permalink to this heading">¶</a></h3>
<p>Show cluster’s FSID/UUID.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">fsid</span>
</pre></div>
</div>
</section>
<section id="health">
<h3>health<a class="headerlink" href="#health" title="Permalink to this heading">¶</a></h3>
<p>Show cluster’s health.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">health</span> <span class="p">{</span><span class="n">detail</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="heap">
<h3>heap<a class="headerlink" href="#heap" title="Permalink to this heading">¶</a></h3>
<p>Show heap usage info (available only if compiled with tcmalloc)</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">tell</span> <span class="o">&lt;</span><span class="n">name</span> <span class="p">(</span><span class="nb">type</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">heap</span> <span class="n">dump</span><span class="o">|</span><span class="n">start_profiler</span><span class="o">|</span><span class="n">stop_profiler</span><span class="o">|</span><span class="n">stats</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">release</span></code> to make TCMalloc to releases no-longer-used memory back to the kernel at once.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">tell</span> <span class="o">&lt;</span><span class="n">name</span> <span class="p">(</span><span class="nb">type</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">heap</span> <span class="n">release</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">(get|set)_release_rate</span></code> get or set the TCMalloc memory release rate. TCMalloc releases
no-longer-used memory back to the kernel gradually. the rate controls how quickly this happens.
Increase this setting to make TCMalloc to return unused memory more frequently. 0 means never return
memory to system, 1 means wait for 1000 pages after releasing a page to system. It is <code class="docutils literal notranslate"><span class="pre">1.0</span></code> by default..</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">tell</span> <span class="o">&lt;</span><span class="n">name</span> <span class="p">(</span><span class="nb">type</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">heap</span> <span class="n">get_release_rate</span><span class="o">|</span><span class="n">set_release_rate</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
</section>
<section id="injectargs">
<h3>injectargs<a class="headerlink" href="#injectargs" title="Permalink to this heading">¶</a></h3>
<p>Inject configuration arguments into monitor.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">injectargs</span> <span class="o">&lt;</span><span class="n">injected_args</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">injected_args</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="log">
<h3>log<a class="headerlink" href="#log" title="Permalink to this heading">¶</a></h3>
<p>Log supplied text to the monitor log.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">log</span> <span class="o">&lt;</span><span class="n">logtext</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">logtext</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
</section>
<section id="mds">
<h3>mds<a class="headerlink" href="#mds" title="Permalink to this heading">¶</a></h3>
<p>Manage metadata server configuration and administration. It uses some
additional subcommands.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">compat</span></code> manages compatible features. It uses some additional
subcommands.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rm_compat</span></code> removes compatible feature.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mds</span> <span class="n">compat</span> <span class="n">rm_compat</span> <span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rm_incompat</span></code> removes incompatible feature.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mds</span> <span class="n">compat</span> <span class="n">rm_incompat</span> <span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">show</span></code> shows mds compatibility settings.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mds</span> <span class="n">compat</span> <span class="n">show</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">fail</span></code> forces mds to status fail.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mds</span> <span class="n">fail</span> <span class="o">&lt;</span><span class="n">role</span><span class="o">|</span><span class="n">gid</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rm</span></code> removes inactive mds.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mds</span> <span class="n">rm</span> <span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="p">(</span><span class="nb">type</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rmfailed</span></code> removes failed mds.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mds</span> <span class="n">rmfailed</span> <span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">set_state</span></code> sets mds state of &lt;gid&gt; to &lt;numeric-state&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mds</span> <span class="n">set_state</span> <span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="mi">20</span><span class="p">]</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">stat</span></code> shows MDS status.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mds</span> <span class="n">stat</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">repaired</span></code> mark a damaged MDS rank as no longer damaged.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mds</span> <span class="n">repaired</span> <span class="o">&lt;</span><span class="n">role</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="mon">
<h3>mon<a class="headerlink" href="#mon" title="Permalink to this heading">¶</a></h3>
<p>Manage monitor configuration and administration. It uses some additional
subcommands.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">add</span></code> adds new monitor named &lt;name&gt; at &lt;addr&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mon</span> <span class="n">add</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">IPaddr</span><span class="p">[:</span><span class="n">port</span><span class="p">]</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">dump</span></code> dumps formatted monmap (optionally from epoch)</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mon</span> <span class="n">dump</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">getmap</span></code> gets monmap.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mon</span> <span class="n">getmap</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">remove</span></code> removes monitor named &lt;name&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mon</span> <span class="n">remove</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">stat</span></code> summarizes monitor status.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mon</span> <span class="n">stat</span>
</pre></div>
</div>
</section>
<section id="mgr">
<h3>mgr<a class="headerlink" href="#mgr" title="Permalink to this heading">¶</a></h3>
<p>Ceph manager daemon configuration and management.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">dump</span></code> dumps the latest MgrMap, which describes the active
and standby manager daemons.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mgr</span> <span class="n">dump</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">fail</span></code> will mark a manager daemon as failed, removing it
from the manager map.  If it is the active manager daemon a standby
will take its place.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mgr</span> <span class="n">fail</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">ls</span></code> will list currently enabled manager modules (plugins).</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mgr</span> <span class="n">module</span> <span class="n">ls</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">enable</span></code> will enable a manager module.  Available modules are included in MgrMap and visible via <code class="docutils literal notranslate"><span class="pre">mgr</span> <span class="pre">dump</span></code>.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mgr</span> <span class="n">module</span> <span class="n">enable</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">module</span> <span class="pre">disable</span></code> will disable an active manager module.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mgr</span> <span class="n">module</span> <span class="n">disable</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">metadata</span></code> will report metadata about all manager daemons or, if the name is specified, a single manager daemon.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mgr</span> <span class="n">metadata</span> <span class="p">[</span><span class="n">name</span><span class="p">]</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">versions</span></code> will report a count of running daemon versions.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mgr</span> <span class="n">versions</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">count-metadata</span></code> will report a count of any daemon metadata field.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">mgr</span> <span class="n">count</span><span class="o">-</span><span class="n">metadata</span> <span class="o">&lt;</span><span class="n">field</span><span class="o">&gt;</span>
</pre></div>
</div>
</section>
<section id="osd">
<span id="ceph-admin-osd"></span><h3>osd<a class="headerlink" href="#osd" title="Permalink to this heading">¶</a></h3>
<p>Manage OSD configuration and administration. It uses some additional
subcommands.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">blocklist</span></code> manage blocklisted clients. It uses some additional
subcommands.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">add</span></code> add &lt;addr&gt; to blocklist (optionally until &lt;expire&gt; seconds
from now)</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">blocklist</span> <span class="n">add</span> <span class="o">&lt;</span><span class="n">EntityAddr</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">float</span><span class="p">[</span><span class="mf">0.0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">ls</span></code> show blocklisted clients</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">blocklist</span> <span class="n">ls</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rm</span></code> remove &lt;addr&gt; from blocklist</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">blocklist</span> <span class="n">rm</span> <span class="o">&lt;</span><span class="n">EntityAddr</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">blocked-by</span></code> prints a histogram of which OSDs are blocking their peers</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">blocked</span><span class="o">-</span><span class="n">by</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">create</span></code> creates new osd (with optional UUID and ID).</p>
<p>This command is DEPRECATED as of the Luminous release, and will be removed in
a future release.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">new</span></code> should instead be used.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">create</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">uuid</span><span class="o">&gt;</span><span class="p">}</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">new</span></code> can be used to create a new OSD or to recreate a previously
destroyed OSD with a specific <em>id</em>. The new OSD will have the specified <em>uuid</em>,
and the command expects a JSON file containing the base64 cephx key for auth
entity <em>client.osd.&lt;id&gt;</em>, as well as optional base64 cepx key for dm-crypt
lockbox access and a dm-crypt key. Specifying a dm-crypt requires specifying
the accompanying lockbox cephx key.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">new</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">uuid</span><span class="o">&gt;</span><span class="p">}</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span><span class="p">}</span> <span class="o">-</span><span class="n">i</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">params</span><span class="o">.</span><span class="n">json</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>The parameters JSON file is optional but if provided, is expected to maintain
a form of the following format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;cephx_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;AQBWtwhZdBO5ExAAIDyjK2Bh16ZXylmzgYYEjg==&quot;</span><span class="p">,</span>
    <span class="s2">&quot;crush_device_class&quot;</span><span class="p">:</span> <span class="s2">&quot;myclass&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;cephx_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;AQBWtwhZdBO5ExAAIDyjK2Bh16ZXylmzgYYEjg==&quot;</span><span class="p">,</span>
    <span class="s2">&quot;cephx_lockbox_secret&quot;</span><span class="p">:</span> <span class="s2">&quot;AQDNCglZuaeVCRAAYr76PzR1Anh7A0jswkODIQ==&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dmcrypt_key&quot;</span><span class="p">:</span> <span class="s2">&quot;&lt;dm-crypt key&gt;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;crush_device_class&quot;</span><span class="p">:</span> <span class="s2">&quot;myclass&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Or:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;crush_device_class&quot;</span><span class="p">:</span> <span class="s2">&quot;myclass&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The “crush_device_class” property is optional. If specified, it will set the
initial CRUSH device class for the new OSD.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">crush</span></code> is used for CRUSH management. It uses some additional
subcommands.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">add</span></code> adds or updates crushmap position and weight for &lt;name&gt; with
&lt;weight&gt; and location &lt;args&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">add</span> <span class="o">&lt;</span><span class="n">osdname</span> <span class="p">(</span><span class="nb">id</span><span class="o">|</span><span class="n">osd</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">float</span><span class="p">[</span><span class="mf">0.0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">args</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">args</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">add-bucket</span></code> adds no-parent (probably root) crush bucket &lt;name&gt; of
type &lt;type&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">add</span><span class="o">-</span><span class="n">bucket</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">create-or-move</span></code> creates entry or moves existing entry for &lt;name&gt;
&lt;weight&gt; at/to location &lt;args&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">create</span><span class="o">-</span><span class="ow">or</span><span class="o">-</span><span class="n">move</span> <span class="o">&lt;</span><span class="n">osdname</span> <span class="p">(</span><span class="nb">id</span><span class="o">|</span><span class="n">osd</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">float</span><span class="p">[</span><span class="mf">0.0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">args</span><span class="o">&gt;</span>
<span class="p">[</span><span class="o">&lt;</span><span class="n">args</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">dump</span></code> dumps crush map.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">dump</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">get-tunable</span></code> get crush tunable straw_calc_version</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">get</span><span class="o">-</span><span class="n">tunable</span> <span class="n">straw_calc_version</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">link</span></code> links existing entry for &lt;name&gt; under location &lt;args&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">link</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">args</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">args</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">move</span></code> moves existing entry for &lt;name&gt; to location &lt;args&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">move</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">args</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">args</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">remove</span></code> removes &lt;name&gt; from crush map (everywhere, or just at
&lt;ancestor&gt;).</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">remove</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">ancestor</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rename-bucket</span></code> renames bucket &lt;srcname&gt; to &lt;dstname&gt;</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">rename</span><span class="o">-</span><span class="n">bucket</span> <span class="o">&lt;</span><span class="n">srcname</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">dstname</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">reweight</span></code> change &lt;name&gt;’s weight to &lt;weight&gt; in crush map.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">reweight</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">float</span><span class="p">[</span><span class="mf">0.0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">reweight-all</span></code> recalculate the weights for the tree to
ensure they sum correctly</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">reweight</span><span class="o">-</span><span class="nb">all</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">reweight-subtree</span></code> changes all leaf items beneath &lt;name&gt;
to &lt;weight&gt; in crush map</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">reweight</span><span class="o">-</span><span class="n">subtree</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">weight</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rm</span></code> removes &lt;name&gt; from crush map (everywhere, or just at
&lt;ancestor&gt;).</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">rm</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">ancestor</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rule</span></code> is used for creating crush rules. It uses some additional
subcommands.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">create-erasure</span></code> creates crush rule &lt;name&gt; for erasure coded pool
created with &lt;profile&gt; (default default).</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">rule</span> <span class="n">create</span><span class="o">-</span><span class="n">erasure</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">profile</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">create-simple</span></code> creates crush rule &lt;name&gt; to start from &lt;root&gt;,
replicate across buckets of type &lt;type&gt;, using a choose mode of &lt;firstn|indep&gt;
(default firstn; indep best for erasure pools).</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">rule</span> <span class="n">create</span><span class="o">-</span><span class="n">simple</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">root</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">type</span><span class="o">&gt;</span> <span class="p">{</span><span class="n">firstn</span><span class="o">|</span><span class="n">indep</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">dump</span></code> dumps crush rule &lt;name&gt; (default all).</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">rule</span> <span class="n">dump</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">ls</span></code> lists crush rules.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">rule</span> <span class="n">ls</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rm</span></code> removes crush rule &lt;name&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">rule</span> <span class="n">rm</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">set</span></code> used alone, sets crush map from input file.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="nb">set</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">set</span></code> with osdname/osd.id update crushmap position and weight
for &lt;name&gt; to &lt;weight&gt; with location &lt;args&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="nb">set</span> <span class="o">&lt;</span><span class="n">osdname</span> <span class="p">(</span><span class="nb">id</span><span class="o">|</span><span class="n">osd</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">float</span><span class="p">[</span><span class="mf">0.0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">args</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">args</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">set-tunable</span></code> set crush tunable &lt;tunable&gt; to &lt;value&gt;.  The only
tunable that can be set is straw_calc_version.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="nb">set</span><span class="o">-</span><span class="n">tunable</span> <span class="n">straw_calc_version</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">show-tunables</span></code> shows current crush tunables.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">show</span><span class="o">-</span><span class="n">tunables</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">tree</span></code> shows the crush buckets and items in a tree view.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">tree</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">tunables</span></code> sets crush tunables values to &lt;profile&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">tunables</span> <span class="n">legacy</span><span class="o">|</span><span class="n">argonaut</span><span class="o">|</span><span class="n">bobtail</span><span class="o">|</span><span class="n">firefly</span><span class="o">|</span><span class="n">hammer</span><span class="o">|</span><span class="n">optimal</span><span class="o">|</span><span class="n">default</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">unlink</span></code> unlinks &lt;name&gt; from crush map (everywhere, or just at
&lt;ancestor&gt;).</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">crush</span> <span class="n">unlink</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">ancestor</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">df</span></code> shows OSD utilization</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">df</span> <span class="p">{</span><span class="n">plain</span><span class="o">|</span><span class="n">tree</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">deep-scrub</span></code> initiates deep scrub on specified osd.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">deep</span><span class="o">-</span><span class="n">scrub</span> <span class="o">&lt;</span><span class="n">who</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">down</span></code> sets osd(s) &lt;id&gt; [&lt;id&gt;…] down.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">down</span> <span class="o">&lt;</span><span class="n">ids</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">ids</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">dump</span></code> prints summary of OSD map.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">dump</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">erasure-code-profile</span></code> is used for managing the erasure code
profiles. It uses some additional subcommands.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">get</span></code> gets erasure code profile &lt;name&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">erasure</span><span class="o">-</span><span class="n">code</span><span class="o">-</span><span class="n">profile</span> <span class="n">get</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">ls</span></code> lists all erasure code profiles.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">erasure</span><span class="o">-</span><span class="n">code</span><span class="o">-</span><span class="n">profile</span> <span class="n">ls</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rm</span></code> removes erasure code profile &lt;name&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">erasure</span><span class="o">-</span><span class="n">code</span><span class="o">-</span><span class="n">profile</span> <span class="n">rm</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">set</span></code> creates erasure code profile &lt;name&gt; with [&lt;key[=value]&gt; …]
pairs. Add a –force at the end to override an existing profile (IT IS RISKY).</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">erasure</span><span class="o">-</span><span class="n">code</span><span class="o">-</span><span class="n">profile</span> <span class="nb">set</span> <span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">profile</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">profile</span><span class="o">&gt;...</span><span class="p">]}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">find</span></code> find osd &lt;id&gt; in the CRUSH map and shows its location.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">find</span> <span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">getcrushmap</span></code> gets CRUSH map.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">getcrushmap</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">getmap</span></code> gets OSD map.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">getmap</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">getmaxosd</span></code> shows largest OSD id.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">getmaxosd</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">in</span></code> sets osd(s) &lt;id&gt; [&lt;id&gt;…] in.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">ids</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">ids</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">lost</span></code> marks osd as permanently lost. THIS DESTROYS DATA IF NO
MORE REPLICAS EXIST, BE CAREFUL.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">lost</span> <span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">--</span><span class="n">yes</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="n">really</span><span class="o">-</span><span class="n">mean</span><span class="o">-</span><span class="n">it</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">ls</span></code> shows all OSD ids.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">ls</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">lspools</span></code> lists pools.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">lspools</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">map</span></code> finds pg for &lt;object&gt; in &lt;pool&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="nb">map</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">objectname</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">metadata</span></code> fetches metadata for osd &lt;id&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">metadata</span> <span class="p">{</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]}</span> <span class="p">(</span><span class="n">default</span> <span class="nb">all</span><span class="p">)</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">out</span></code> sets osd(s) &lt;id&gt; [&lt;id&gt;…] out.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">out</span> <span class="o">&lt;</span><span class="n">ids</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">ids</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">ok-to-stop</span></code> checks whether the list of OSD(s) can be
stopped without immediately making data unavailable.  That is, all
data should remain readable and writeable, although data redundancy
may be reduced as some PGs may end up in a degraded (but active)
state.  It will return a success code if it is okay to stop the
OSD(s), or an error code and informative message if it is not or if no
conclusion can be drawn at the current time.  When <code class="docutils literal notranslate"><span class="pre">--max</span> <span class="pre">&lt;num&gt;</span></code> is
provided, up to &lt;num&gt; OSDs IDs will return (including the provided
OSDs) that can all be stopped simultaneously.  This allows larger sets
of stoppable OSDs to be generated easily by providing a single
starting OSD and a max.  Additional OSDs are drawn from adjacent locations
in the CRUSH hierarchy.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">ok</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">stop</span> <span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">ids</span><span class="o">&gt;...</span><span class="p">]</span> <span class="p">[</span><span class="o">--</span><span class="nb">max</span> <span class="o">&lt;</span><span class="n">num</span><span class="o">&gt;</span><span class="p">]</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">pause</span></code> pauses osd.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pause</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">perf</span></code> prints dump of OSD perf summary stats.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">perf</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">pg-temp</span></code> set pg_temp mapping pgid:[&lt;id&gt; [&lt;id&gt;…]] (developers
only).</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pg</span><span class="o">-</span><span class="n">temp</span> <span class="o">&lt;</span><span class="n">pgid</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;...</span><span class="p">]}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">force-create-pg</span></code> forces creation of pg &lt;pgid&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">force</span><span class="o">-</span><span class="n">create</span><span class="o">-</span><span class="n">pg</span> <span class="o">&lt;</span><span class="n">pgid</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">pool</span></code> is used for managing data pools. It uses some additional
subcommands.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">create</span></code> creates pool.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">create</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span><span class="p">}</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span><span class="p">}</span> <span class="p">{</span><span class="n">replicated</span><span class="o">|</span><span class="n">erasure</span><span class="p">}</span>
<span class="p">{</span><span class="o">&lt;</span><span class="n">erasure_code_profile</span><span class="o">&gt;</span><span class="p">}</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">rule</span><span class="o">&gt;</span><span class="p">}</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">}</span> <span class="p">{</span><span class="o">--</span><span class="n">autoscale</span><span class="o">-</span><span class="n">mode</span><span class="o">=&lt;</span><span class="n">on</span><span class="p">,</span><span class="n">off</span><span class="p">,</span><span class="n">warn</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">delete</span></code> deletes pool.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">delete</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span><span class="p">}</span> <span class="p">{</span><span class="o">--</span><span class="n">yes</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="n">really</span><span class="o">-</span><span class="n">really</span><span class="o">-</span><span class="n">mean</span><span class="o">-</span><span class="n">it</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">get</span></code> gets pool parameter &lt;var&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">get</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="n">size</span><span class="o">|</span><span class="n">min_size</span><span class="o">|</span><span class="n">pg_num</span><span class="o">|</span><span class="n">pgp_num</span><span class="o">|</span><span class="n">crush_rule</span><span class="o">|</span><span class="n">write_fadvise_dontneed</span>
</pre></div>
</div>
<p>Only for tiered pools:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">get</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="n">hit_set_type</span><span class="o">|</span><span class="n">hit_set_period</span><span class="o">|</span><span class="n">hit_set_count</span><span class="o">|</span><span class="n">hit_set_fpp</span><span class="o">|</span>
<span class="n">target_max_objects</span><span class="o">|</span><span class="n">target_max_bytes</span><span class="o">|</span><span class="n">cache_target_dirty_ratio</span><span class="o">|</span><span class="n">cache_target_dirty_high_ratio</span><span class="o">|</span>
<span class="n">cache_target_full_ratio</span><span class="o">|</span><span class="n">cache_min_flush_age</span><span class="o">|</span><span class="n">cache_min_evict_age</span><span class="o">|</span>
<span class="n">min_read_recency_for_promote</span><span class="o">|</span><span class="n">hit_set_grade_decay_rate</span><span class="o">|</span><span class="n">hit_set_search_last_n</span>
</pre></div>
</div>
<p>Only for erasure coded pools:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">get</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="n">erasure_code_profile</span>
</pre></div>
</div>
<p>Use <code class="docutils literal notranslate"><span class="pre">all</span></code> to get all pool parameters that apply to the pool’s type:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">get</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="nb">all</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">get-quota</span></code> obtains object or byte limits for pool.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">get</span><span class="o">-</span><span class="n">quota</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">ls</span></code> list pools</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">ls</span> <span class="p">{</span><span class="n">detail</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">mksnap</span></code> makes snapshot &lt;snap&gt; in &lt;pool&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">mksnap</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">snap</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rename</span></code> renames &lt;srcpool&gt; to &lt;destpool&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">rename</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rmsnap</span></code> removes snapshot &lt;snap&gt; from &lt;pool&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">rmsnap</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">snap</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">set</span></code> sets pool parameter &lt;var&gt; to &lt;val&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="nb">set</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="n">size</span><span class="o">|</span><span class="n">min_size</span><span class="o">|</span><span class="n">pg_num</span><span class="o">|</span>
<span class="n">pgp_num</span><span class="o">|</span><span class="n">crush_rule</span><span class="o">|</span><span class="n">hashpspool</span><span class="o">|</span><span class="n">nodelete</span><span class="o">|</span><span class="n">nopgchange</span><span class="o">|</span><span class="n">nosizechange</span><span class="o">|</span>
<span class="n">hit_set_type</span><span class="o">|</span><span class="n">hit_set_period</span><span class="o">|</span><span class="n">hit_set_count</span><span class="o">|</span><span class="n">hit_set_fpp</span><span class="o">|</span><span class="n">debug_fake_ec_pool</span><span class="o">|</span>
<span class="n">target_max_bytes</span><span class="o">|</span><span class="n">target_max_objects</span><span class="o">|</span><span class="n">cache_target_dirty_ratio</span><span class="o">|</span>
<span class="n">cache_target_dirty_high_ratio</span><span class="o">|</span>
<span class="n">cache_target_full_ratio</span><span class="o">|</span><span class="n">cache_min_flush_age</span><span class="o">|</span><span class="n">cache_min_evict_age</span><span class="o">|</span>
<span class="n">min_read_recency_for_promote</span><span class="o">|</span><span class="n">write_fadvise_dontneed</span><span class="o">|</span><span class="n">hit_set_grade_decay_rate</span><span class="o">|</span>
<span class="n">hit_set_search_last_n</span>
<span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">--</span><span class="n">yes</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="n">really</span><span class="o">-</span><span class="n">mean</span><span class="o">-</span><span class="n">it</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">set-quota</span></code> sets object or byte limit on pool.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="nb">set</span><span class="o">-</span><span class="n">quota</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="n">max_objects</span><span class="o">|</span><span class="n">max_bytes</span> <span class="o">&lt;</span><span class="n">val</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">stats</span></code> obtain stats from all pools, or from specified pool.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">stats</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">name</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">application</span></code> is used for adding an annotation to the given
pool. By default, the possible applications are object, block, and file
storage (corresponding app-names are “rgw”, “rbd”, and “cephfs”). However,
there might be other applications as well. Based on the application, there
may or may not be some processing conducted.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">disable</span></code> disables the given application on the given pool.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">application</span> <span class="n">disable</span> <span class="o">&lt;</span><span class="n">pool</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">app</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">--</span><span class="n">yes</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="n">really</span><span class="o">-</span><span class="n">mean</span><span class="o">-</span><span class="n">it</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">enable</span></code> adds an annotation to the given pool for the mentioned
application.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">application</span> <span class="n">enable</span> <span class="o">&lt;</span><span class="n">pool</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">app</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">--</span><span class="n">yes</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="n">really</span><span class="o">-</span><span class="n">mean</span><span class="o">-</span><span class="n">it</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">get</span></code> displays the value for the given key that is associated
with the given application of the given pool. Not passing the optional
arguments would display all key-value pairs for all applications for all
pools.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">application</span> <span class="n">get</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">pool</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span><span class="p">}</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">app</span><span class="o">&gt;</span><span class="p">}</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">key</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rm</span></code> removes the key-value pair for the given key in the given
application of the given pool.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">application</span> <span class="n">rm</span> <span class="o">&lt;</span><span class="n">pool</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">app</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">key</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">set</span></code> associates or updates, if it already exists, a key-value
pair with the given application for the given pool.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">pool</span> <span class="n">application</span> <span class="nb">set</span> <span class="o">&lt;</span><span class="n">pool</span><span class="o">-</span><span class="n">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">app</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">key</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">value</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">primary-affinity</span></code> adjust osd primary-affinity from 0.0 &lt;=&lt;weight&gt;
&lt;= 1.0</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">primary</span><span class="o">-</span><span class="n">affinity</span> <span class="o">&lt;</span><span class="n">osdname</span> <span class="p">(</span><span class="nb">id</span><span class="o">|</span><span class="n">osd</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">float</span><span class="p">[</span><span class="mf">0.0</span><span class="o">-</span><span class="mf">1.0</span><span class="p">]</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">primary-temp</span></code> sets primary_temp mapping pgid:&lt;id&gt;|-1 (developers
only).</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">primary</span><span class="o">-</span><span class="n">temp</span> <span class="o">&lt;</span><span class="n">pgid</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">repair</span></code> initiates repair on a specified osd.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">repair</span> <span class="o">&lt;</span><span class="n">who</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">reweight</span></code> reweights osd to 0.0 &lt; &lt;weight&gt; &lt; 1.0.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">osd</span> <span class="n">reweight</span> <span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">float</span><span class="p">[</span><span class="mf">0.0</span><span class="o">-</span><span class="mf">1.0</span><span class="p">]</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">reweight-by-pg</span></code> reweight OSDs by PG distribution
[overload-percentage-for-consideration, default 120].</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">reweight</span><span class="o">-</span><span class="n">by</span><span class="o">-</span><span class="n">pg</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">100</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span><span class="p">}</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">poolname</span><span class="o">...</span><span class="p">]}</span>
<span class="p">{</span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">increasing</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">reweight-by-utilization</span></code> reweights OSDs by utilization.  It only reweights
outlier OSDs whose utilization exceeds the average, eg. the default 120%
limits reweight to those OSDs that are more than 20% over the average.
[overload-threshold, default 120 [max_weight_change, default 0.05 [max_osds_to_adjust, default 4]]]</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">reweight</span><span class="o">-</span><span class="n">by</span><span class="o">-</span><span class="n">utilization</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">100</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">float</span><span class="p">[</span><span class="mf">0.0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span><span class="p">}}}</span>
<span class="p">{</span><span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">increasing</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">rm</span></code> removes osd(s) &lt;id&gt; [&lt;id&gt;…] from the OSD map.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">rm</span> <span class="o">&lt;</span><span class="n">ids</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">ids</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">destroy</span></code> marks OSD <em>id</em> as <em>destroyed</em>, removing its cephx
entity’s keys and all of its dm-crypt and daemon-private config key
entries.</p>
<p>This command will not remove the OSD from crush, nor will it remove the
OSD from the OSD map. Instead, once the command successfully completes,
the OSD will show marked as <em>destroyed</em>.</p>
<p>In order to mark an OSD as destroyed, the OSD must first be marked as
<strong>lost</strong>.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">destroy</span> <span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">--</span><span class="n">yes</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="n">really</span><span class="o">-</span><span class="n">mean</span><span class="o">-</span><span class="n">it</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">purge</span></code> performs a combination of <code class="docutils literal notranslate"><span class="pre">osd</span> <span class="pre">destroy</span></code>,
<code class="docutils literal notranslate"><span class="pre">osd</span> <span class="pre">rm</span></code> and <code class="docutils literal notranslate"><span class="pre">osd</span> <span class="pre">crush</span> <span class="pre">remove</span></code>.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">purge</span> <span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">--</span><span class="n">yes</span><span class="o">-</span><span class="n">i</span><span class="o">-</span><span class="n">really</span><span class="o">-</span><span class="n">mean</span><span class="o">-</span><span class="n">it</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">safe-to-destroy</span></code> checks whether it is safe to remove or
destroy an OSD without reducing overall data redundancy or durability.
It will return a success code if it is definitely safe, or an error
code and informative message if it is not or if no conclusion can be
drawn at the current time.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">safe</span><span class="o">-</span><span class="n">to</span><span class="o">-</span><span class="n">destroy</span> <span class="o">&lt;</span><span class="nb">id</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">ids</span><span class="o">&gt;...</span><span class="p">]</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">scrub</span></code> initiates scrub on specified osd.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">scrub</span> <span class="o">&lt;</span><span class="n">who</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">set</span></code> sets cluster-wide &lt;flag&gt; by updating OSD map.
The <code class="docutils literal notranslate"><span class="pre">full</span></code> flag is not honored anymore since the Mimic release, and
<code class="docutils literal notranslate"><span class="pre">ceph</span> <span class="pre">osd</span> <span class="pre">set</span> <span class="pre">full</span></code> is not supported in the Octopus release.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="nb">set</span> <span class="n">pause</span><span class="o">|</span><span class="n">noup</span><span class="o">|</span><span class="n">nodown</span><span class="o">|</span><span class="n">noout</span><span class="o">|</span><span class="n">noin</span><span class="o">|</span><span class="n">nobackfill</span><span class="o">|</span>
<span class="n">norebalance</span><span class="o">|</span><span class="n">norecover</span><span class="o">|</span><span class="n">noscrub</span><span class="o">|</span><span class="n">nodeep</span><span class="o">-</span><span class="n">scrub</span><span class="o">|</span><span class="n">notieragent</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">setcrushmap</span></code> sets crush map from input file.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">setcrushmap</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">setmaxosd</span></code> sets new maximum osd value.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">setmaxosd</span> <span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">set-require-min-compat-client</span></code> enforces the cluster to be backward
compatible with the specified client version. This subcommand prevents you from
making any changes (e.g., crush tunables, or using new features) that
would violate the current setting. Please note, This subcommand will fail if
any connected daemon or client is not compatible with the features offered by
the given &lt;version&gt;. To see the features and releases of all clients connected
to cluster, please see <a class="reference internal" href="#ceph-features">ceph features</a>.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="nb">set</span><span class="o">-</span><span class="n">require</span><span class="o">-</span><span class="nb">min</span><span class="o">-</span><span class="n">compat</span><span class="o">-</span><span class="n">client</span> <span class="o">&lt;</span><span class="n">version</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">stat</span></code> prints summary of OSD map.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">stat</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">tier</span></code> is used for managing tiers. It uses some additional
subcommands.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">add</span></code> adds the tier &lt;tierpool&gt; (the second one) to base pool &lt;pool&gt;
(the first one).</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">tier</span> <span class="n">add</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">--</span><span class="n">force</span><span class="o">-</span><span class="n">nonempty</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">add-cache</span></code> adds a cache &lt;tierpool&gt; (the second one) of size &lt;size&gt;
to existing pool &lt;pool&gt; (the first one).</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">tier</span> <span class="n">add</span><span class="o">-</span><span class="n">cache</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">cache-mode</span></code> specifies the caching mode for cache tier &lt;pool&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">tier</span> <span class="n">cache</span><span class="o">-</span><span class="n">mode</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="n">writeback</span><span class="o">|</span><span class="n">proxy</span><span class="o">|</span><span class="n">readproxy</span><span class="o">|</span><span class="n">readonly</span><span class="o">|</span><span class="n">none</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">remove</span></code> removes the tier &lt;tierpool&gt; (the second one) from base pool
&lt;pool&gt; (the first one).</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">tier</span> <span class="n">remove</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">remove-overlay</span></code> removes the overlay pool for base pool &lt;pool&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">tier</span> <span class="n">remove</span><span class="o">-</span><span class="n">overlay</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">set-overlay</span></code> set the overlay pool for base pool &lt;pool&gt; to be
&lt;overlaypool&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">tier</span> <span class="nb">set</span><span class="o">-</span><span class="n">overlay</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">poolname</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">tree</span></code> prints OSD tree.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">tree</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="p">[</span><span class="mi">0</span><span class="o">-</span><span class="p">]</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">unpause</span></code> unpauses osd.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">unpause</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">unset</span></code> unsets cluster-wide &lt;flag&gt; by updating OSD map.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">osd</span> <span class="n">unset</span> <span class="n">pause</span><span class="o">|</span><span class="n">noup</span><span class="o">|</span><span class="n">nodown</span><span class="o">|</span><span class="n">noout</span><span class="o">|</span><span class="n">noin</span><span class="o">|</span><span class="n">nobackfill</span><span class="o">|</span>
<span class="n">norebalance</span><span class="o">|</span><span class="n">norecover</span><span class="o">|</span><span class="n">noscrub</span><span class="o">|</span><span class="n">nodeep</span><span class="o">-</span><span class="n">scrub</span><span class="o">|</span><span class="n">notieragent</span>
</pre></div>
</div>
</section>
<section id="pg">
<h3>pg<a class="headerlink" href="#pg" title="Permalink to this heading">¶</a></h3>
<p>It is used for managing the placement groups in OSDs. It uses some
additional subcommands.</p>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">debug</span></code> shows debug info about pgs.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">pg</span> <span class="n">debug</span> <span class="n">unfound_objects_exist</span><span class="o">|</span><span class="n">degraded_pgs_exist</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">deep-scrub</span></code> starts deep-scrub on &lt;pgid&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">pg</span> <span class="n">deep</span><span class="o">-</span><span class="n">scrub</span> <span class="o">&lt;</span><span class="n">pgid</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">dump</span></code> shows human-readable versions of pg map (only ‘all’ valid
with plain).</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">pg</span> <span class="n">dump</span> <span class="p">{</span><span class="nb">all</span><span class="o">|</span><span class="n">summary</span><span class="o">|</span><span class="nb">sum</span><span class="o">|</span><span class="n">delta</span><span class="o">|</span><span class="n">pools</span><span class="o">|</span><span class="n">osds</span><span class="o">|</span><span class="n">pgs</span><span class="o">|</span><span class="n">pgs_brief</span><span class="p">}</span> <span class="p">[{</span><span class="nb">all</span><span class="o">|</span><span class="n">summary</span><span class="o">|</span><span class="nb">sum</span><span class="o">|</span><span class="n">delta</span><span class="o">|</span><span class="n">pools</span><span class="o">|</span><span class="n">osds</span><span class="o">|</span><span class="n">pgs</span><span class="o">|</span><span class="n">pgs_brief</span><span class="o">...</span><span class="p">]}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">dump_json</span></code> shows human-readable version of pg map in json only.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">pg</span> <span class="n">dump_json</span> <span class="p">{</span><span class="nb">all</span><span class="o">|</span><span class="n">summary</span><span class="o">|</span><span class="nb">sum</span><span class="o">|</span><span class="n">delta</span><span class="o">|</span><span class="n">pools</span><span class="o">|</span><span class="n">osds</span><span class="o">|</span><span class="n">pgs</span><span class="o">|</span><span class="n">pgs_brief</span><span class="p">}</span> <span class="p">[{</span><span class="nb">all</span><span class="o">|</span><span class="n">summary</span><span class="o">|</span><span class="nb">sum</span><span class="o">|</span><span class="n">delta</span><span class="o">|</span><span class="n">pools</span><span class="o">|</span><span class="n">osds</span><span class="o">|</span><span class="n">pgs</span><span class="o">|</span><span class="n">pgs_brief</span><span class="o">...</span><span class="p">]}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">dump_pools_json</span></code> shows pg pools info in json only.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">pg</span> <span class="n">dump_pools_json</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">dump_stuck</span></code> shows information about stuck pgs.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">pg</span> <span class="n">dump_stuck</span> <span class="p">{</span><span class="n">inactive</span><span class="o">|</span><span class="n">unclean</span><span class="o">|</span><span class="n">stale</span><span class="o">|</span><span class="n">undersized</span><span class="o">|</span><span class="n">degraded</span> <span class="p">[</span><span class="n">inactive</span><span class="o">|</span><span class="n">unclean</span><span class="o">|</span><span class="n">stale</span><span class="o">|</span><span class="n">undersized</span><span class="o">|</span><span class="n">degraded</span><span class="o">...</span><span class="p">]}</span>
<span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">getmap</span></code> gets binary pg map to -o/stdout.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">pg</span> <span class="n">getmap</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">ls</span></code> lists pg with specific pool, osd, state</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">pg</span> <span class="n">ls</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">}</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">pg</span><span class="o">-</span><span class="n">state</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pg</span><span class="o">-</span><span class="n">state</span><span class="o">&gt;...</span><span class="p">]}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">ls-by-osd</span></code> lists pg on osd [osd]</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">pg</span> <span class="n">ls</span><span class="o">-</span><span class="n">by</span><span class="o">-</span><span class="n">osd</span> <span class="o">&lt;</span><span class="n">osdname</span> <span class="p">(</span><span class="nb">id</span><span class="o">|</span><span class="n">osd</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">}</span>
<span class="p">{</span><span class="o">&lt;</span><span class="n">pg</span><span class="o">-</span><span class="n">state</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pg</span><span class="o">-</span><span class="n">state</span><span class="o">&gt;...</span><span class="p">]}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">ls-by-pool</span></code> lists pg with pool = [poolname]</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">pg</span> <span class="n">ls</span><span class="o">-</span><span class="n">by</span><span class="o">-</span><span class="n">pool</span> <span class="o">&lt;</span><span class="n">poolstr</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">}</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">pg</span><span class="o">-</span><span class="n">state</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pg</span><span class="o">-</span><span class="n">state</span><span class="o">&gt;...</span><span class="p">]}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">ls-by-primary</span></code> lists pg with primary = [osd]</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">pg</span> <span class="n">ls</span><span class="o">-</span><span class="n">by</span><span class="o">-</span><span class="n">primary</span> <span class="o">&lt;</span><span class="n">osdname</span> <span class="p">(</span><span class="nb">id</span><span class="o">|</span><span class="n">osd</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">&gt;</span> <span class="p">{</span><span class="o">&lt;</span><span class="nb">int</span><span class="o">&gt;</span><span class="p">}</span>
<span class="p">{</span><span class="o">&lt;</span><span class="n">pg</span><span class="o">-</span><span class="n">state</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">pg</span><span class="o">-</span><span class="n">state</span><span class="o">&gt;...</span><span class="p">]}</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">map</span></code> shows mapping of pg to osds.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">pg</span> <span class="nb">map</span> <span class="o">&lt;</span><span class="n">pgid</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">repair</span></code> starts repair on &lt;pgid&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">pg</span> <span class="n">repair</span> <span class="o">&lt;</span><span class="n">pgid</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">scrub</span></code> starts scrub on &lt;pgid&gt;.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">pg</span> <span class="n">scrub</span> <span class="o">&lt;</span><span class="n">pgid</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Subcommand <code class="docutils literal notranslate"><span class="pre">stat</span></code> shows placement group status.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">pg</span> <span class="n">stat</span>
</pre></div>
</div>
</section>
<section id="quorum">
<h3>quorum<a class="headerlink" href="#quorum" title="Permalink to this heading">¶</a></h3>
<p>Cause a specific MON to enter or exit quorum.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">tell</span> <span class="n">mon</span><span class="o">.&lt;</span><span class="nb">id</span><span class="o">&gt;</span> <span class="n">quorum</span> <span class="n">enter</span><span class="o">|</span><span class="n">exit</span>
</pre></div>
</div>
</section>
<section id="quorum-status">
<h3>quorum_status<a class="headerlink" href="#quorum-status" title="Permalink to this heading">¶</a></h3>
<p>Reports status of monitor quorum.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">quorum_status</span>
</pre></div>
</div>
</section>
<section id="report">
<h3>report<a class="headerlink" href="#report" title="Permalink to this heading">¶</a></h3>
<p>Reports full status of cluster, optional title tag strings.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">report</span> <span class="p">{</span><span class="o">&lt;</span><span class="n">tags</span><span class="o">&gt;</span> <span class="p">[</span><span class="o">&lt;</span><span class="n">tags</span><span class="o">&gt;...</span><span class="p">]}</span>
</pre></div>
</div>
</section>
<section id="status">
<h3>status<a class="headerlink" href="#status" title="Permalink to this heading">¶</a></h3>
<p>Shows cluster status.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">status</span>
</pre></div>
</div>
</section>
<section id="tell">
<h3>tell<a class="headerlink" href="#tell" title="Permalink to this heading">¶</a></h3>
<p>Sends a command to a specific daemon.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">tell</span> <span class="o">&lt;</span><span class="n">name</span> <span class="p">(</span><span class="nb">type</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="n">command</span><span class="o">&gt;</span> <span class="p">[</span><span class="n">options</span><span class="o">...</span><span class="p">]</span>
</pre></div>
</div>
<p>List all available commands.</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">tell</span> <span class="o">&lt;</span><span class="n">name</span> <span class="p">(</span><span class="nb">type</span><span class="o">.</span><span class="n">id</span><span class="p">)</span><span class="o">&gt;</span> <span class="n">help</span>
</pre></div>
</div>
</section>
<section id="version">
<h3>version<a class="headerlink" href="#version" title="Permalink to this heading">¶</a></h3>
<p>Show mon daemon version</p>
<p>Usage:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ceph</span> <span class="n">version</span>
</pre></div>
</div>
</section>
</section>
<section id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this heading">¶</a></h2>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-i">
<span class="sig-name descname"><span class="pre">-i</span></span><span class="sig-prename descclassname"> <span class="pre">infile</span></span><a class="headerlink" href="#cmdoption-ceph-i" title="Permalink to this definition">¶</a></dt>
<dd><p>will specify an input file to be passed along as a payload with the
command to the monitor cluster. This is only used for specific
monitor commands.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-o">
<span class="sig-name descname"><span class="pre">-o</span></span><span class="sig-prename descclassname"> <span class="pre">outfile</span></span><a class="headerlink" href="#cmdoption-ceph-o" title="Permalink to this definition">¶</a></dt>
<dd><p>will write any payload returned by the monitor cluster with its
reply to outfile.  Only specific monitor commands (e.g. osd getmap)
return a payload.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-setuser">
<span class="sig-name descname"><span class="pre">--setuser</span></span><span class="sig-prename descclassname"> <span class="pre">user</span></span><a class="headerlink" href="#cmdoption-ceph-setuser" title="Permalink to this definition">¶</a></dt>
<dd><p>will apply the appropriate user ownership to the file specified by
the option ‘-o’.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-setgroup">
<span class="sig-name descname"><span class="pre">--setgroup</span></span><span class="sig-prename descclassname"> <span class="pre">group</span></span><a class="headerlink" href="#cmdoption-ceph-setgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>will apply the appropriate group ownership to the file specified by
the option ‘-o’.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-c">
<span id="cmdoption-ceph-conf"></span><span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"> <span class="pre">ceph.conf</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--conf</span></span><span class="sig-prename descclassname"><span class="pre">=ceph.conf</span></span><a class="headerlink" href="#cmdoption-ceph-c" title="Permalink to this definition">¶</a></dt>
<dd><p>Use ceph.conf configuration file instead of the default
<code class="docutils literal notranslate"><span class="pre">/etc/ceph/ceph.conf</span></code> to determine monitor addresses during startup.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-id">
<span id="cmdoption-ceph-user"></span><span class="sig-name descname"><span class="pre">--id</span></span><span class="sig-prename descclassname"> <span class="pre">CLIENT_ID</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--user</span></span><span class="sig-prename descclassname"> <span class="pre">CLIENT_ID</span></span><a class="headerlink" href="#cmdoption-ceph-id" title="Permalink to this definition">¶</a></dt>
<dd><p>Client id for authentication.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-name">
<span id="cmdoption-ceph-n"></span><span class="sig-name descname"><span class="pre">--name</span></span><span class="sig-prename descclassname"> <span class="pre">CLIENT_NAME</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">-n</span></span><span class="sig-prename descclassname"> <span class="pre">CLIENT_NAME</span></span><a class="headerlink" href="#cmdoption-ceph-name" title="Permalink to this definition">¶</a></dt>
<dd><p>Client name for authentication.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-cluster">
<span class="sig-name descname"><span class="pre">--cluster</span></span><span class="sig-prename descclassname"> <span class="pre">CLUSTER</span></span><a class="headerlink" href="#cmdoption-ceph-cluster" title="Permalink to this definition">¶</a></dt>
<dd><p>Name of the Ceph cluster.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-admin-daemon">
<span id="cmdoption-ceph-arg-daemon"></span><span class="sig-name descname"><span class="pre">--admin-daemon</span></span><span class="sig-prename descclassname"> <span class="pre">ADMIN_SOCKET</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">daemon</span></span><span class="sig-prename descclassname"> <span class="pre">DAEMON_NAME</span></span><a class="headerlink" href="#cmdoption-ceph-admin-daemon" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit admin-socket commands via admin sockets in /var/run/ceph.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-admin-socket">
<span class="sig-name descname"><span class="pre">--admin-socket</span></span><span class="sig-prename descclassname"> <span class="pre">ADMIN_SOCKET_NOPE</span></span><a class="headerlink" href="#cmdoption-ceph-admin-socket" title="Permalink to this definition">¶</a></dt>
<dd><p>You probably mean –admin-daemon</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-s">
<span id="cmdoption-ceph-status"></span><span class="sig-name descname"><span class="pre">-s</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--status</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-s" title="Permalink to this definition">¶</a></dt>
<dd><p>Show cluster status.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-w">
<span id="cmdoption-ceph-watch"></span><span class="sig-name descname"><span class="pre">-w</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--watch</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-w" title="Permalink to this definition">¶</a></dt>
<dd><p>Watch live cluster changes on the default ‘cluster’ channel</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-W">
<span id="cmdoption-ceph-watch-channel"></span><span class="sig-name descname"><span class="pre">-W</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--watch-channel</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-W" title="Permalink to this definition">¶</a></dt>
<dd><p>Watch live cluster changes on any channel (cluster, audit, cephadm, or * for all)</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-watch-debug">
<span class="sig-name descname"><span class="pre">--watch-debug</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-watch-debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Watch debug events.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-watch-info">
<span class="sig-name descname"><span class="pre">--watch-info</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-watch-info" title="Permalink to this definition">¶</a></dt>
<dd><p>Watch info events.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-watch-sec">
<span class="sig-name descname"><span class="pre">--watch-sec</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-watch-sec" title="Permalink to this definition">¶</a></dt>
<dd><p>Watch security events.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-watch-warn">
<span class="sig-name descname"><span class="pre">--watch-warn</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-watch-warn" title="Permalink to this definition">¶</a></dt>
<dd><p>Watch warning events.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-watch-error">
<span class="sig-name descname"><span class="pre">--watch-error</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-watch-error" title="Permalink to this definition">¶</a></dt>
<dd><p>Watch error events.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-version">
<span id="cmdoption-ceph-v"></span><span class="sig-name descname"><span class="pre">--version</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">-v</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-version" title="Permalink to this definition">¶</a></dt>
<dd><p>Display version.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-verbose">
<span class="sig-name descname"><span class="pre">--verbose</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-verbose" title="Permalink to this definition">¶</a></dt>
<dd><p>Make verbose.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-concise">
<span class="sig-name descname"><span class="pre">--concise</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-concise" title="Permalink to this definition">¶</a></dt>
<dd><p>Make less verbose.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-f">
<span id="cmdoption-ceph-format"></span><span class="sig-name descname"><span class="pre">-f</span></span><span class="sig-prename descclassname"> <span class="pre">{json,json-pretty,xml,xml-pretty,plain}</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--format</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-f" title="Permalink to this definition">¶</a></dt>
<dd><p>Format of output.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-connect-timeout">
<span class="sig-name descname"><span class="pre">--connect-timeout</span></span><span class="sig-prename descclassname"> <span class="pre">CLUSTER_TIMEOUT</span></span><a class="headerlink" href="#cmdoption-ceph-connect-timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Set a timeout for connecting to the cluster.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-no-increasing">
<span class="sig-name descname"><span class="pre">--no-increasing</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-no-increasing" title="Permalink to this definition">¶</a></dt>
<dd><p><code class="docutils literal notranslate"><span class="pre">--no-increasing</span></code> is off by default. So increasing the osd weight is allowed
using the <code class="docutils literal notranslate"><span class="pre">reweight-by-utilization</span></code> or <code class="docutils literal notranslate"><span class="pre">test-reweight-by-utilization</span></code> commands.
If this option is used with these commands, it will help not to increase osd weight
even the osd is under utilized.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-block">
<span class="sig-name descname"><span class="pre">--block</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-block" title="Permalink to this definition">¶</a></dt>
<dd><p>block until completion (scrub and deep-scrub only)</p>
</dd></dl>

</section>
<section id="availability">
<h2>Availability<a class="headerlink" href="#availability" title="Permalink to this heading">¶</a></h2>
<p><strong class="program">ceph</strong> is part of Ceph, a massively scalable, open-source, distributed storage system. Please refer to
the Ceph documentation at <a class="reference external" href="http://ceph.com/docs">http://ceph.com/docs</a> for more information.</p>
</section>
<section id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<p><a class="reference internal" href="../ceph-mon/"><span class="doc">ceph-mon</span></a>(8),
<a class="reference internal" href="../ceph-osd/"><span class="doc">ceph-osd</span></a>(8),
<a class="reference internal" href="../ceph-mds/"><span class="doc">ceph-mds</span></a>(8)</p>
</section>
</section>



            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Intro to Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">Installing Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephadm/">Cephadm</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../rados/">Ceph Storage Cluster</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../rados/configuration/">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../cephadm/">Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rados/operations/">Operations</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../rados/man/">Man Pages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../ceph-volume/">ceph-volume – Ceph OSD deployment and inspection tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-volume-systemd/">ceph-volume-systemd – systemd ceph-volume helper tool</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ceph – ceph administration tool</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#commands">Commands</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#auth">auth</a></li>
<li class="toctree-l5"><a class="reference internal" href="#compact">compact</a></li>
<li class="toctree-l5"><a class="reference internal" href="#config">config</a></li>
<li class="toctree-l5"><a class="reference internal" href="#config-key">config-key</a></li>
<li class="toctree-l5"><a class="reference internal" href="#daemon">daemon</a></li>
<li class="toctree-l5"><a class="reference internal" href="#daemonperf">daemonperf</a></li>
<li class="toctree-l5"><a class="reference internal" href="#df">df</a></li>
<li class="toctree-l5"><a class="reference internal" href="#features">features</a></li>
<li class="toctree-l5"><a class="reference internal" href="#fs">fs</a></li>
<li class="toctree-l5"><a class="reference internal" href="#fsid">fsid</a></li>
<li class="toctree-l5"><a class="reference internal" href="#health">health</a></li>
<li class="toctree-l5"><a class="reference internal" href="#heap">heap</a></li>
<li class="toctree-l5"><a class="reference internal" href="#injectargs">injectargs</a></li>
<li class="toctree-l5"><a class="reference internal" href="#log">log</a></li>
<li class="toctree-l5"><a class="reference internal" href="#mds">mds</a></li>
<li class="toctree-l5"><a class="reference internal" href="#mon">mon</a></li>
<li class="toctree-l5"><a class="reference internal" href="#mgr">mgr</a></li>
<li class="toctree-l5"><a class="reference internal" href="#osd">osd</a></li>
<li class="toctree-l5"><a class="reference internal" href="#pg">pg</a></li>
<li class="toctree-l5"><a class="reference internal" href="#quorum">quorum</a></li>
<li class="toctree-l5"><a class="reference internal" href="#quorum-status">quorum_status</a></li>
<li class="toctree-l5"><a class="reference internal" href="#report">report</a></li>
<li class="toctree-l5"><a class="reference internal" href="#status">status</a></li>
<li class="toctree-l5"><a class="reference internal" href="#tell">tell</a></li>
<li class="toctree-l5"><a class="reference internal" href="#version">version</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="#options">Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#availability">Availability</a></li>
<li class="toctree-l4"><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-authtool/">ceph-authtool – ceph keyring manipulation tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-clsinfo/">ceph-clsinfo – show class object information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-conf/">ceph-conf – ceph conf file tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-debugpack/">ceph-debugpack – ceph debug packer utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-dencoder/">ceph-dencoder – ceph encoder/decoder utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-mon/">ceph-mon – ceph monitor daemon</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-osd/">ceph-osd – ceph object storage daemon</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-kvstore-tool/">ceph-kvstore-tool – ceph kvstore manipulation tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-run/">ceph-run – restart daemon on core dump</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-syn/">ceph-syn – ceph synthetic workload generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../crushtool/">crushtool – CRUSH map manipulation tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../librados-config/">librados-config – display information about librados</a></li>
<li class="toctree-l3"><a class="reference internal" href="../monmaptool/">monmaptool – ceph monitor cluster map manipulation tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../osdmaptool/">osdmaptool – ceph osd cluster map manipulation tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rados/">rados – rados object storage utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-post-file/">ceph-post-file – post files for ceph developers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../rados/troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rados/api/">APIs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph File System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/">Ceph Block Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph Object Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/">Ceph Manager Daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/dashboard/">Ceph Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/developer_guide/">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/internals/">Ceph Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../governance/">Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../foundation/">Ceph Foundation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/general/">Ceph Releases (general)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/">Ceph Releases (index)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Glossary</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../ceph-authtool/" title="ceph-authtool – ceph keyring manipulation tool"
             >next</a> |</li>
        <li class="right" >
          <a href="../ceph-volume-systemd/" title="ceph-volume-systemd – systemd ceph-volume helper tool"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../rados/" >Ceph Storage Cluster</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../rados/man/" >Object Store Manpages</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ceph – ceph administration tool</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>