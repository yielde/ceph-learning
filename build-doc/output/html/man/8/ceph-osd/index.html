
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>ceph-osd – ceph object storage daemon &#8212; Ceph Documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/nature.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <script src="../../../_static/js/ceph.js"></script>
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../../../genindex/" />
    <link rel="search" title="Search" href="../../../search/" />
    <link rel="next" title="ceph-kvstore-tool – ceph kvstore manipulation tool" href="../ceph-kvstore-tool/" />
    <link rel="prev" title="ceph-mon – ceph monitor daemon" href="../ceph-mon/" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../ceph-kvstore-tool/" title="ceph-kvstore-tool – ceph kvstore manipulation tool"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../ceph-mon/" title="ceph-mon – ceph monitor daemon"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../rados/" >Ceph Storage Cluster</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../rados/man/" accesskey="U">Object Store Manpages</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ceph-osd – ceph object storage daemon</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div id="docubetter" align="right" style="padding: 15px; font-weight: bold;">
    <a href="https://pad.ceph.com/p/Report_Documentation_Bugs">Report a Documentation Bug</a>
  </div>

  
  <section id="ceph-osd-ceph-object-storage-daemon">
<span id="ceph-osd-daemon"></span><h1>ceph-osd – ceph object storage daemon<a class="headerlink" href="#ceph-osd-ceph-object-storage-daemon" title="Permalink to this heading">¶</a></h1>
<section id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this heading">¶</a></h2>
<div class="line-block">
<div class="line"><strong>ceph-osd</strong> -i <em>osdnum</em> [ –osd-data <em>datapath</em> ] [ –osd-journal
<em>journal</em> ] [ –mkfs ] [ –mkjournal ] [–flush-journal] [–check-allows-journal] [–check-wants-journal] [–check-needs-journal] [ –mkkey ] [ –osdspec-affinity ]</div>
</div>
</section>
<section id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this heading">¶</a></h2>
<p><strong>ceph-osd</strong> is the object storage daemon for the Ceph distributed file
system. It is responsible for storing objects on a local file system
and providing access to them over the network.</p>
<p>The datapath argument should be a directory on a xfs file system
where the object data resides. The journal is optional, and is only
useful performance-wise when it resides on a different disk than
datapath with low latency (ideally, an NVRAM device).</p>
</section>
<section id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this heading">¶</a></h2>
<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-f">
<span id="cmdoption-ceph-osd-foreground"></span><span class="sig-name descname"><span class="pre">-f</span></span><span class="sig-prename descclassname"></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--foreground</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-osd-f" title="Permalink to this definition">¶</a></dt>
<dd><p>Foreground: do not daemonize after startup (run in foreground). Do
not generate a pid file. Useful when run via <a class="reference internal" href="../ceph-run/"><span class="doc">ceph-run</span></a>(8).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-d">
<span class="sig-name descname"><span class="pre">-d</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-osd-d" title="Permalink to this definition">¶</a></dt>
<dd><p>Debug mode: like <code class="docutils literal notranslate"><span class="pre">-f</span></code>, but also send all log output to stderr.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-setuser">
<span class="sig-name descname"><span class="pre">--setuser</span></span><span class="sig-prename descclassname"> <span class="pre">userorgid</span></span><a class="headerlink" href="#cmdoption-ceph-osd-setuser" title="Permalink to this definition">¶</a></dt>
<dd><p>Set uid after starting.  If a username is specified, the user
record is looked up to get a uid and a gid, and the gid is also set
as well, unless –setgroup is also specified.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-setgroup">
<span class="sig-name descname"><span class="pre">--setgroup</span></span><span class="sig-prename descclassname"> <span class="pre">grouporgid</span></span><a class="headerlink" href="#cmdoption-ceph-osd-setgroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Set gid after starting.  If a group name is specified the group
record is looked up to get a gid.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-osd-data">
<span class="sig-name descname"><span class="pre">--osd-data</span></span><span class="sig-prename descclassname"> <span class="pre">osddata</span></span><a class="headerlink" href="#cmdoption-ceph-osd-osd-data" title="Permalink to this definition">¶</a></dt>
<dd><p>Use object store at <em>osddata</em>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-osd-journal">
<span class="sig-name descname"><span class="pre">--osd-journal</span></span><span class="sig-prename descclassname"> <span class="pre">journal</span></span><a class="headerlink" href="#cmdoption-ceph-osd-osd-journal" title="Permalink to this definition">¶</a></dt>
<dd><p>Journal updates to <em>journal</em>.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-check-wants-journal">
<span class="sig-name descname"><span class="pre">--check-wants-journal</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-osd-check-wants-journal" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a journal is desired.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-check-allows-journal">
<span class="sig-name descname"><span class="pre">--check-allows-journal</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-osd-check-allows-journal" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a journal is allowed.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-check-needs-journal">
<span class="sig-name descname"><span class="pre">--check-needs-journal</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-osd-check-needs-journal" title="Permalink to this definition">¶</a></dt>
<dd><p>Check whether a journal is required.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-mkfs">
<span class="sig-name descname"><span class="pre">--mkfs</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-osd-mkfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an empty object repository. This also initializes the journal
(if one is defined).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-mkkey">
<span class="sig-name descname"><span class="pre">--mkkey</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-osd-mkkey" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a new secret key. This is normally used in combination
with <code class="docutils literal notranslate"><span class="pre">--mkfs</span></code> as it is more convenient than generating a key by
hand with <a class="reference internal" href="../ceph-authtool/"><span class="doc">ceph-authtool</span></a>(8).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-mkjournal">
<span class="sig-name descname"><span class="pre">--mkjournal</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-osd-mkjournal" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new journal file to match an existing object repository.
This is useful if the journal device or file is wiped out due to a
disk or file system failure.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-flush-journal">
<span class="sig-name descname"><span class="pre">--flush-journal</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-osd-flush-journal" title="Permalink to this definition">¶</a></dt>
<dd><p>Flush the journal to permanent store. This runs in the foreground
so you know when it’s completed. This can be useful if you want to
resize the journal or need to otherwise destroy it: this guarantees
you won’t lose data.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-get-cluster-fsid">
<span class="sig-name descname"><span class="pre">--get-cluster-fsid</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-osd-get-cluster-fsid" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the cluster fsid (uuid) and exit.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-get-osd-fsid">
<span class="sig-name descname"><span class="pre">--get-osd-fsid</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-osd-get-osd-fsid" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the OSD’s fsid and exit.  The OSD’s uuid is generated at
–mkfs time and is thus unique to a particular instantiation of
this OSD.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-get-journal-fsid">
<span class="sig-name descname"><span class="pre">--get-journal-fsid</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-osd-get-journal-fsid" title="Permalink to this definition">¶</a></dt>
<dd><p>Print the journal’s uuid.  The journal fsid is set to match the OSD
fsid at –mkfs time.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-c">
<span id="cmdoption-ceph-osd-conf"></span><span class="sig-name descname"><span class="pre">-c</span></span><span class="sig-prename descclassname"> <span class="pre">ceph.conf</span></span><span class="sig-prename descclassname"><span class="pre">,</span> </span><span class="sig-name descname"><span class="pre">--conf</span></span><span class="sig-prename descclassname"><span class="pre">=ceph.conf</span></span><a class="headerlink" href="#cmdoption-ceph-osd-c" title="Permalink to this definition">¶</a></dt>
<dd><p>Use <em>ceph.conf</em> configuration file instead of the default
<code class="docutils literal notranslate"><span class="pre">/etc/ceph/ceph.conf</span></code> for runtime configuration options.</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-m">
<span class="sig-name descname"><span class="pre">-m</span></span><span class="sig-prename descclassname"> <span class="pre">monaddress[:port]</span></span><a class="headerlink" href="#cmdoption-ceph-osd-m" title="Permalink to this definition">¶</a></dt>
<dd><p>Connect to specified monitor (instead of looking through
<code class="docutils literal notranslate"><span class="pre">ceph.conf</span></code>).</p>
</dd></dl>

<dl class="std option">
<dt class="sig sig-object std" id="cmdoption-ceph-osd-osdspec-affinity">
<span class="sig-name descname"><span class="pre">--osdspec-affinity</span></span><span class="sig-prename descclassname"></span><a class="headerlink" href="#cmdoption-ceph-osd-osdspec-affinity" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an affinity to a certain OSDSpec.
This option can only be used in conjunction with –mkfs.</p>
</dd></dl>

</section>
<section id="availability">
<h2>Availability<a class="headerlink" href="#availability" title="Permalink to this heading">¶</a></h2>
<p><strong>ceph-osd</strong> is part of Ceph, a massively scalable, open-source, distributed storage system. Please refer to
the Ceph documentation at <a class="reference external" href="http://ceph.com/docs">http://ceph.com/docs</a> for more information.</p>
</section>
<section id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Permalink to this heading">¶</a></h2>
<p><a class="reference internal" href="../ceph/"><span class="doc">ceph</span></a>(8),
<a class="reference internal" href="../ceph-mds/"><span class="doc">ceph-mds</span></a>(8),
<a class="reference internal" href="../ceph-mon/"><span class="doc">ceph-mon</span></a>(8),
<a class="reference internal" href="../ceph-authtool/"><span class="doc">ceph-authtool</span></a>(8)</p>
</section>
</section>



            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../">
              <img class="logo" src="../../../_static/logo.png" alt="Logo"/>
            </a></p>
<h3><a href="../../../">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../start/intro/">Intro to Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../install/">Installing Ceph</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephadm/">Cephadm</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../rados/">Ceph Storage Cluster</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../rados/configuration/">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../cephadm/">Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rados/operations/">Operations</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../../rados/man/">Man Pages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../ceph-volume/">ceph-volume – Ceph OSD deployment and inspection tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-volume-systemd/">ceph-volume-systemd – systemd ceph-volume helper tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph/">ceph – ceph administration tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-authtool/">ceph-authtool – ceph keyring manipulation tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-clsinfo/">ceph-clsinfo – show class object information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-conf/">ceph-conf – ceph conf file tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-debugpack/">ceph-debugpack – ceph debug packer utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-dencoder/">ceph-dencoder – ceph encoder/decoder utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-mon/">ceph-mon – ceph monitor daemon</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">ceph-osd – ceph object storage daemon</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li class="toctree-l4"><a class="reference internal" href="#description">Description</a></li>
<li class="toctree-l4"><a class="reference internal" href="#options">Options</a></li>
<li class="toctree-l4"><a class="reference internal" href="#availability">Availability</a></li>
<li class="toctree-l4"><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-kvstore-tool/">ceph-kvstore-tool – ceph kvstore manipulation tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-run/">ceph-run – restart daemon on core dump</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-syn/">ceph-syn – ceph synthetic workload generator</a></li>
<li class="toctree-l3"><a class="reference internal" href="../crushtool/">crushtool – CRUSH map manipulation tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../librados-config/">librados-config – display information about librados</a></li>
<li class="toctree-l3"><a class="reference internal" href="../monmaptool/">monmaptool – ceph monitor cluster map manipulation tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../osdmaptool/">osdmaptool – ceph osd cluster map manipulation tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../rados/">rados – rados object storage utility</a></li>
<li class="toctree-l3"><a class="reference internal" href="../ceph-post-file/">ceph-post-file – post files for ceph developers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../rados/troubleshooting/">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../rados/api/">APIs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../cephfs/">Ceph File System</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../rbd/">Ceph Block Device</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../radosgw/">Ceph Object Gateway</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/">Ceph Manager Daemon</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../mgr/dashboard/">Ceph Dashboard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../api/">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../architecture/">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/developer_guide/">Developer Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../dev/internals/">Ceph Internals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../governance/">Governance</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../foundation/">Ceph Foundation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../ceph-volume/">ceph-volume</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/general/">Ceph Releases (general)</a></li>
<li class="toctree-l1"><a class="reference external" href="https://docs.ceph.com/en/latest/releases/">Ceph Releases (index)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../security/">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/">Glossary</a></li>
</ul>


<!-- ugly kludge to make genindex look like it's part of the toc -->
<ul style="margin-top: -10px"><li class="toctree-l1"><a class="reference internal" href="../../../genindex/">Index</a></li></ul>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search/" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex/" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../http-routingtable/" title="HTTP Routing Table"
             >routing table</a> |</li>
        <li class="right" >
          <a href="../../../py-modindex/" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../ceph-kvstore-tool/" title="ceph-kvstore-tool – ceph kvstore manipulation tool"
             >next</a> |</li>
        <li class="right" >
          <a href="../ceph-mon/" title="ceph-mon – ceph monitor daemon"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../">Ceph Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../rados/" >Ceph Storage Cluster</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../rados/man/" >Object Store Manpages</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">ceph-osd – ceph object storage daemon</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Ceph authors and contributors. Licensed under Creative Commons Attribution Share Alike 3.0 (CC-BY-SA-3.0).
    </div>
  </body>
</html>